(this.webpackJsonpmytool=this.webpackJsonpmytool||[]).push([[0],{30:function(e,t,a){e.exports=a(51)},35:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),i=a.n(r),o=(a(35),a(27)),s=a(12),c=(a(36),a(5)),u=a(6),m=a(8),h=a(7),d=a(9),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={tools:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({tools:[{title:"Decimal/Binary converter",path:"#/dec2bin"},{title:"Reverse string",path:"#/reverseStr"},{title:"Multiline",path:"#/multiline"},{title:"Table format to insert SQL",path:"#/table2SQL"},{title:"Kelly calculator",path:"#/kelly"}]})}},{key:"render",value:function(){var e=this.state.tools.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("a",{href:"./"+e.path},e.title))}));return l.a.createElement("div",{style:{textAlign:"left",margin:"10px"}},l.a.createElement("h2",null,"All tools"),l.a.createElement("ul",null,e))}}]),t}(n.Component),p=a(3),b=a.n(p),v=a(11),E=a(17),g=a(14),y=(a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).dec2BinHelper=Object(g.debounce)((function(){var e;console.log("In dec2BinHelper");var t=a.state.dec.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e){return e.length>0})),n=a.state.sameLength,l=(e=window).dec2Bin.apply(e,Object(E.a)(t).concat([n]));a.setState({bin:l.join("\n")})}),300),a.bin2DecHelper=Object(g.debounce)((function(){var e;console.log("In bin2DecHelper");var t=a.state.bin.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e){return e.length>0})),n=a.state.sameLength,l=(e=window).bin2Dec.apply(e,Object(E.a)(t).concat([n]));a.setState({dec:l.join("\n")})}),300),a.handleDecChange=function(e){a.setState({dec:e.target.value}),a.dec2BinHelper()},a.handleBinChange=function(e){a.setState({bin:e.target.value}),a.bin2DecHelper()},a.state={dec:"",bin:"",sameLength:!0},a.codeUrl="https://github.com/ymlai87416/ymlai87416.github.io/blob/master/mytoolproject/tools/dec2bin/main.go",a.binUrl="https://ymlai87416.github.io/mytool/bin/dec2bin.wasm",a.wasmModule=null,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WebAssembly.instantiateStreaming(fetch(this.binUrl),window.go.importObject);case 2:return t=e.sent,a=t.instance,n=t.module,this.wasmModule=n,e.next=8,window.go.run(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"flipSameLength",value:function(){this.setState({sameLength:!this.state.sameLength})}},{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("h1",null,"Decimal/Binary converter"),l.a.createElement("p",null,"Convert a list of decimal to binary format, because Excel does not do it..."),l.a.createElement("br",null),l.a.createElement("div",null,"Code URL: ",l.a.createElement("a",{href:this.codeUrl},this.codeUrl)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Decimal")),l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Binary"))),l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"60",name:"decimal",value:this.state.dec,onChange:this.handleDecChange})),l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"60",name:"binary",value:this.state.bin,onChange:this.handleBinChange})))),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"sameLength"}," Same length in result"),l.a.createElement("input",{type:"checkbox",id:"sameLength",checked:this.state.sameLength,onChange:this.flipSameLength.bind(this)})))}}]),t}(n.Component)),k=(a(40),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).helper=Object(g.debounce)((function(){var e;console.log("In helper");var t=a.state.in.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e){return e.length>0})),n=(e=window).reverse.apply(e,Object(E.a)(t));console.log(n),a.setState({out:n.join("\n")})}),300),a.handleChange=function(e){a.setState({in:e.target.value}),a.helper()},a.state={dec:"",bin:""},a.codeUrl="https://github.com/ymlai87416/ymlai87416.github.io/blob/master/mytoolproject/tools/reversestr/main.go",a.binUrl="/mytool/bin/reversestr.wasm",a.wasmModule=null,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WebAssembly.instantiateStreaming(fetch(this.binUrl),window.go.importObject);case 2:return t=e.sent,a=t.instance,n=t.module,this.wasmModule=n,e.next=8,window.go.run(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("h1",null,"Reverse string"),l.a.createElement("p",null,"Reverse strings"),l.a.createElement("br",null),l.a.createElement("div",null,"Code URL: ",l.a.createElement("a",{href:this.codeUrl},this.codeUrl)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Input")),l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Output"))),l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"60",name:"decimal",value:this.state.in,onChange:this.handleChange})),l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"60",name:"binary",value:this.state.out})))))}}]),t}(n.Component)),S=(a(41),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).helper=Object(g.debounce)((function(){console.log("In helper");var e="";e=a.state.concat?window.multilineInv(a.state.input,a.state.language):window.multiline(a.state.input,a.state.language),a.setState({result:e})}),300),a.handleChange=function(e){a.setState({input:e.target.value}),a.helper()},a.setLanguage=function(e){a.setState({language:e.target.value})},a.setConcat=function(e){a.setState({concat:e.target.checked})},a.state={input:"",result:"",language:"java",concat:!1},a.codeUrl="https://github.com/ymlai87416/ymlai87416.github.io/blob/master/mytoolproject/tools/multiline/main.go",a.binUrl="/mytool/bin/multiline.wasm",a.wasmModule=null,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WebAssembly.instantiateStreaming(fetch(this.binUrl),window.go.importObject);case 2:return t=e.sent,a=t.instance,n=t.module,this.wasmModule=n,e.next=8,window.go.run(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("h1",null,"Multiline code statement to just string"),l.a.createElement("p",null,"I hate removing all quote for getting back the SQL"),l.a.createElement("br",null),l.a.createElement("div",null,"Code URL: ",l.a.createElement("a",{href:this.codeUrl},this.codeUrl)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",value:"java",name:"language",checked:"java"===this.state.language,onChange:this.setLanguage})," Java",l.a.createElement("input",{type:"radio",value:"vb",name:"language",checked:"vb"===this.state.language,onChange:this.setLanguage})," Visual basic",l.a.createElement("input",{type:"checkbox",name:"inv",checked:this.state.concat,onChange:this.setConcat})," Concat"),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Input")),l.a.createElement("span",{className:"td"},l.a.createElement("h3",null,"Result"))),l.a.createElement("div",{className:"tr"},l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"80",name:"decimal",value:this.state.input,onChange:this.handleChange})),l.a.createElement("span",{className:"td"},l.a.createElement("textarea",{className:"taInput",rows:"10",cols:"80",name:"binary",value:this.state.result,readOnly:!0})))))}}]),t}(n.Component)),w=a(18),M=(a(42),a(13)),x=a.n(M);function O(e){for(var t=new Array(e),a=0;a<e;a++)t[a]=0;return t}function C(e,t){for(var a=new Array(e),n=0;n<e;)a[n]=O(t),n+=1;return a}function N(e,t,a,n,l){for(var r=0;r<l;)a[r+n]=e[r+t],r++}function j(e,t,a,n,l,r,i,o,s,c,u){var m=a+2,h=O(t+1);h[0]=0,N(n,0,h,1,t);var d=function(e,t,a,n,l,r,i,o,s,c,u,m){var h,d=-1,f=0,p=[],b=0,v=t+1,E=a+1,g=r,y=0,k=!1,S=!1,w=0,M=0,x=0,N=O(1+n),j=C(1+t,1+v),U=C(1+t,1+t),I=C(1+n,1+v),D=C(1+t,1+E),H=O(1+t),T=O(1+t),_=O(1+t),P=O(1+t),Y=O(1+t);o>=2&&console.log("The initial value of RHO is "+g+" and PARMU is set to zero.");for(var Q=0,G=1/g,K=1;K<=t;++K)j[K][v]=l[K],j[K][K]=g,U[K][K]=G;var V=v,X=!1;e:for(;;){if(B(f,p,c)<.1&&Q>0){d=3;break e}if(Q>=s&&Q>0){d=1;break e}++Q,f=e(t,a,l,N),b=0;for(var J=1;J<=a;++J)b=Math.max(b,-N[J]);Q!=o-1&&3!=o||F(Q,f,b,l,t,o),void 0!==u&&Q%m==0&&u({status:-1,statusText:"Running",maxcv:b,fitness:f,iterations:Q,x:l}),N[E]=f,N[n]=b;var z=!0;if(!X){z=!1;for(K=1;K<=n;++K)I[K][V]=N[K];if(Q<=v){if(V<=t)if(I[E][v]<=f)l[V]=j[V][v];else{j[V][v]=l[V];for(J=1;J<=n;++J)I[J][V]=I[J][v],I[J][v]=N[J];for(J=1;J<=V;++J){j[V][J]=-g,G=0;for(K=J;K<=V;++K)G-=U[K][J];U[V][J]=G}}if(Q<=t){l[V=Q]+=g;continue e}}X=!0}t:for(;;){a:do{if(!z){for(var $=I[E][v]+y*I[n][v],Z=v,ee=1;ee<=t;++ee)(G=I[E][ee]+y*I[n][ee])<$?(Z=ee,$=G):G==$&&0==y&&I[n][ee]<I[n][Z]&&(Z=ee);if(Z<=t){for(K=1;K<=n;++K)G=I[K][v],I[K][v]=I[K][Z],I[K][Z]=G;for(K=1;K<=t;++K){G=j[K][Z],j[K][Z]=0,j[K][v]+=G;var te=0;for(J=1;J<=t;++J)j[K][J]-=G,te-=U[J][K];U[Z][K]=te}}var ae=0;for(K=1;K<=t;++K)for(ee=1;ee<=t;++ee)G=q(A(L(U,K),1,t),A(W(j,ee),1,t))-(K==ee?1:0),ae=Math.max(ae,Math.abs(G));if(ae>.1){d=2;break e}for(J=1;J<=E;++J){N[J]=-I[J][v];for(ee=1;ee<=t;++ee)Y[ee]=I[J][ee]+N[J];for(K=1;K<=t;++K)D[K][J]=(J==E?-1:1)*q(A(Y,1,t),A(W(U,K),1,t))}k=!0,w=.25*g;var ne=2.1*g;for(ee=1;ee<=t;++ee){var le=0;for(J=1;J<=t;++J)le+=U[ee][J]*U[ee][J];var re=0;for(J=1;J<=t;++J)re+=j[J][ee]*j[J][ee];H[ee]=1/Math.sqrt(le),T[ee]=Math.sqrt(re),(H[ee]<w||T[ee]>ne)&&(k=!1)}if(!X&&!k){V=0,G=ne;for(ee=1;ee<=t;++ee)T[ee]>G&&(V=ee,G=T[ee]);if(0==V)for(ee=1;ee<=t;++ee)H[ee]<G&&(V=ee,G=H[ee]);G=.5*g*H[V];for(J=1;J<=t;++J)P[J]=G*U[V][J];var ie=0,oe=0;h=0;for(J=1;J<=E;++J)h=q(A(W(D,J),1,t),A(P,1,t)),J<E&&(G=I[J][v],ie=Math.max(ie,-h-G),oe=Math.max(oe,h-G));var se=y*(ie-oe)>2*h?-1:1;G=0;for(K=1;K<=t;++K)P[K]=se*P[K],j[K][V]=P[K],G+=U[V][K]*P[K];for(J=1;J<=t;++J)U[V][J]/=G;for(ee=1;ee<=t;++ee){if(ee!=V){G=q(A(L(U,ee),1,t),A(P,1,t));for(J=1;J<=t;++J)U[ee][J]-=G*U[V][J]}l[ee]=j[ee][v]+P[ee]}continue e}if(!(S=R(t,a,D,N,g,P))){G=0;for(J=1;J<=t;++J)G+=P[J]*P[J];if(G<.25*g*g){X=!0;break a}}h=0;var ce=0;N[E]=0;for(J=1;J<=E;++J)h=N[J]-q(A(W(D,J),1,t),A(P,1,t)),J<E&&(ce=Math.max(ce,h));var ue=(M=I[n][v]-ce)>0?h/M:0;if(y<1.5*ue){y=2*ue,o>=2&&console.log("Increase in PARMU to "+y);var me=I[E][v]+y*I[n][v];for(ee=1;ee<=t;++ee)if((G=I[E][ee]+y*I[n][ee])<me||G==me&&0==y&&I[n][ee]<I[n][v])continue t}x=y*M-h;for(J=1;J<=t;++J)l[J]=j[J][v]+P[J];X=!0;continue e}z=!1;var he=I[E][v]+y*I[n][v]-(f+y*b);0==y&&f==I[E][v]&&(x=M,he=I[n][v]-b);var de=he<=0?1:0;V=0;for(ee=1;ee<=t;++ee)(G=Math.abs(q(A(L(U,ee),1,t),A(P,1,t))))>de&&(V=ee,de=G),_[ee]=G*H[ee];var fe=1.1*g,pe=0;for(ee=1;ee<=t;++ee)if(_[ee]>=w||_[ee]>=H[ee]){if(G=T[ee],he>0){G=0;for(J=1;J<=t;++J)G+=Math.pow(P[J]-j[J][ee],2);G=Math.sqrt(G)}G>fe&&(pe=ee,fe=G)}if(pe>0&&(V=pe),0!=V){G=0;for(K=1;K<=t;++K)j[K][V]=P[K],G+=U[V][K]*P[K];for(J=1;J<=t;++J)U[V][J]/=G;for(ee=1;ee<=t;++ee)if(ee!=V){G=q(A(L(U,ee),1,t),A(P,1,t));for(J=1;J<=t;++J)U[ee][J]-=G*U[V][J]}for(J=1;J<=n;++J)I[J][V]=N[J];if(he>0&&he>=.1*x)continue t}}while(0);if(k){if(g<=i){d=0;break e}var be=0,ve=0;if((g*=.5)<=1.5*i&&(g=i),y>0){var Ee=0;for(J=1;J<=E;++J){be=I[J][v],ve=be;for(K=1;K<=t;++K)be=Math.min(be,I[J][K]),ve=Math.max(ve,I[J][K]);J<=a&&be<.5*ve&&(G=Math.max(ve,0)-be,Ee=Ee<=0?G:Math.min(Ee,G))}0==Ee?y=0:ve-be<y*Ee&&(y=(ve-be)/Ee)}o>=2&&console.log("Reduction in RHO to "+g+"  and PARMU = "+y),2==o&&F(Q,I[E][v],I[n][v],W(j,v),t,o)}else X=!1}}switch(d){case 0:if(o>=1&&console.log("%nNormal return from subroutine COBYLA%n"),S)return o>=1&&F(Q,f,b,l,t,o),d;break;case 1:o>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case 2:o>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n");break;case 3:o>=1&&console.log("%nReturn from subroutine COBYLA because no difference in fitness after "+c+" iterations detected.%n");break;case 99:o>=1&&console.log("%nReturn from subroutine COBYLA because user asked us to.%n")}for(J=1;J<=t;++J)l[J]=j[J][v];f=I[E][v],b=I[n][v],o>=1&&F(Q,f,b,l,t,o);return{status:d,statusText:["Normal","MaxIterationsReached","DivergingRoundingErrors","NoDifferenceInFitness","Cancelled"][d],maxcv:b,fitness:f,iterations:Q,x:l}}((function(t,a,n,l){var r=O(t);N(n,1,r,0,t);var i=O(a),o=e(t,a,r,i);return N(i,0,l,1,a),o}),t,a,m,h,l,r,i,o,s,c,u);return N(h,1,n,0,t),d}function B(e,t,a){return t.push(e),t.length<a?Number.MAX_VALUE:(t.length>a&&t.shift(),Math.max.apply(null,t)-Math.min.apply(null,t))}function R(e,t,a,n,l,r){for(var i=0,o=0,s=0,c=C(1+e,1+e),u=O(2+t),m=O(2+t),h=O(1+e),d=O(1+e),f=O(2+t),p=O(2+t),b=t,v=0,E=1;E<=e;++E)c[E][E]=1,r[E]=0;var g=0,y=0;if(t>=1){for(var k=1;k<=t;++k)n[k]>y&&(y=n[k],g=k);for(k=1;k<=t;++k)p[k]=k,m[k]=y-n[k]}var S=!0;do{e:for(;;){(!S||S&&0==y)&&(g=b=t+1,p[b]=b,m[b]=0),S=!1;var w=0,M=0,x=0,N=0;t:do{var j=b==t?y:-q(A(r,1,e),A(W(a,b),1,e));if(0==M||j<w?(w=j,o=v,M=3):v>o?(o=v,M=3):--M,0==M)break e;var B=0;if(g<=v){if(g<v){var R=p[g],F=m[g];k=g;do{var L=p[Y=k+1],U=q(A(W(c,k),1,e),A(W(a,L),1,e));i=Math.sqrt(U*U+u[Y]*u[Y]);var I=u[Y]/i,D=U/i;u[Y]=I*u[k],u[k]=i;for(E=1;E<=e;++E)i=I*c[E][Y]+D*c[E][k],c[E][Y]=I*c[E][k]-D*c[E][Y],c[E][k]=i;p[k]=L,m[k]=m[Y],k=Y}while(k<v);p[k]=R,m[k]=F}if(--v,b>t){i=1/u[v];for(k=1;k<=e;++k)h[k]=i*c[k][v]}else{i=q(A(h,1,e),A(W(c,v+1),1,e));for(k=1;k<=e;++k)h[k]-=i*c[k][v+1]}}else{for(L=p[g],k=1;k<=e;++k)d[k]=a[k][L];var H=0;for(k=e;k>v;){U=0;var T=0;for(E=1;E<=e;++E)U+=i=c[E][k]*d[E],T+=Math.abs(i);var _=T+.1*Math.abs(U),P=T+.2*Math.abs(U);if((T>=_||_>=P)&&(U=0),0==H)H=U;else{var Y=k+1;I=U/(i=Math.sqrt(U*U+H*H)),D=H/i;H=i;for(E=1;E<=e;++E)i=I*c[E][k]+D*c[E][Y],c[E][Y]=I*c[E][Y]-D*c[E][k],c[E][k]=i}--k}if(0==H){B=-1;k=v;do{var Q=0,G=0;for(E=1;E<=e;++E)Q+=i=c[E][k]*d[E],G+=Math.abs(i);_=G+.1*Math.abs(Q),P=G+.2*Math.abs(Q);if(G<_&&_<P){if((i=Q/u[k])>0&&p[k]<=t){var K=m[k]/i;(B<0||K<B)&&(B=K)}if(k>=2){var V=p[k];for(E=1;E<=e;++E)d[E]-=i*a[E][V]}f[k]=i}else f[k]=0}while(--k>0);if(B<0)break e;for(k=1;k<=v;++k)m[k]=Math.max(0,m[k]-B*f[k]);if(g<v){R=p[g],F=m[g],k=g;do{V=p[Y=k+1],U=q(A(W(c,k),1,e),A(W(a,V),1,e));i=Math.sqrt(U*U+u[Y]*u[Y]);I=u[Y]/i,D=U/i;u[Y]=I*u[k],u[k]=i;for(E=1;E<=e;++E)i=I*c[E][Y]+D*c[E][k],c[E][Y]=I*c[E][k]-D*c[E][Y],c[E][k]=i;p[k]=V,m[k]=m[Y],k=Y}while(k<v);p[k]=R,m[k]=F}if(0==(i=q(A(W(c,v),1,e),A(W(a,L),1,e))))break e;u[v]=i,m[g]=0,m[v]=B}else u[++v]=H,m[g]=m[v],m[v]=0;if(p[g]=p[v],p[v]=L,b>t&&L!=b){U=q(A(W(c,k=v-1),1,e),A(W(a,L),1,e));i=Math.sqrt(U*U+u[v]*u[v]);I=u[v]/i,D=U/i;u[v]=I*u[k],u[k]=i;for(E=1;E<=e;++E)i=I*c[E][v]+D*c[E][k],c[E][v]=I*c[E][k]-D*c[E][v],c[E][k]=i;p[v]=p[k],p[k]=L,i=m[k],m[k]=m[v],m[v]=i}if(b>t){i=1/u[v];for(k=1;k<=e;++k)h[k]=i*c[k][v]}else{L=p[v],i=(q(A(h,1,e),A(W(a,L),1,e))-1)/u[v];for(k=1;k<=e;++k)h[k]-=i*c[k][v]}}var X=l*l,J=0,z=0;for(E=1;E<=e;++E)Math.abs(r[E])>=1e-6*l&&(X-=r[E]*r[E]),J+=r[E]*h[E],z+=h[E]*h[E];if(X<=0)break e;if(i=Math.sqrt(z*X),Math.abs(J)>=1e-6*i&&(i=Math.sqrt(z*X+J*J)),x=N=X/(i+J),b==t){P=x+.2*y;if(x>=(_=x+.1*y)||_>=P)break t;x=Math.min(x,y)}for(k=1;k<=e;++k)d[k]=r[k]+x*h[k];if(b==t){s=y,y=0;for(k=1;k<=v;++k){i=n[L=p[k]]-q(A(W(a,L),1,e),A(d,1,e)),y=Math.max(y,i)}}k=v;do{var $=0,Z=0;for(E=1;E<=e;++E)$+=i=c[E][k]*d[E],Z+=Math.abs(i);_=Z+.1*Math.abs($),P=Z+.2*Math.abs($);if((Z>=_||_>=P)&&($=0),f[k]=$/u[k],k>=2)for(L=p[k],E=1;E<=e;++E)d[E]-=f[k]*a[E][L]}while(k-- >=2);b>t&&(f[v]=Math.max(0,f[v]));for(k=1;k<=e;++k)d[k]=r[k]+x*h[k];if(b>v)for(k=v+1;k<=b;++k){var ee=y-n[L=p[k]],te=y+Math.abs(n[L]);for(E=1;E<=e;++E)ee+=i=a[E][L]*d[E],te+=Math.abs(i);_=te+.1*Math.abs(ee),P=te+.2*Math.abs(ee);(te>=_||_>=P)&&(ee=0),f[k]=ee}B=1,g=0;for(k=1;k<=b;++k)f[k]<0&&(i=m[k]/(m[k]-f[k]))<B&&(B=i,g=k);i=1-B;for(k=1;k<=e;++k)r[k]=i*r[k]+B*d[k];for(k=1;k<=b;++k)m[k]=Math.max(0,i*m[k]+B*f[k]);b==t&&(y=s+B*(y-s))}while(g>0);if(x==N)return!0}}while(b==t);return!1}function F(e,t,a,n,l,r){r>1&&console.log("NFVALS = "+e+"  F = "+t+"  MAXCV = "+a),r>1&&console.log("X = "+A(n,1,l))}function L(e,t){for(var a=e[0].length,n=O(a),l=0;l<a;++l)n[l]=e[t][l];return n}function W(e,t){for(var a=e.length,n=O(a),l=0;l<a;++l)n[l]=e[l][t];return n}function A(e,t,a){return e.slice(t,a+1)}function q(e,t){for(var a=0,n=0;n<e.length;++n)a+=e[n]*t[n];return a}var U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).kelly1=function(e,t,a){console.log("R",e,t,a);var n=parseFloat(e),l=parseFloat(t);return n*(l-(1-l)/parseFloat(a))},a.kellyStock1=function(e,t,a){var n=parseFloat(e),l=parseFloat(t),r=parseFloat(a);return[n*(l/r/r),.5*l*l/r/r]},a.setBankroll1=function(e){a.setState({bankroll1:e,result1:a.kelly1(e,a.state.win1,a.state.odds1)})},a.setWin1=function(e){a.setState({win1:e,result1:a.kelly1(a.state.bankroll1,e,a.state.odds1)})},a.setOdds1=function(e){a.setState({odds1:e,result1:a.kelly1(a.state.bankroll1,a.state.win1,e)})},a.setBankrollM=function(e){a.setState({bankrollM:e})},a.handleWinMChange=function(e,t){var n=a.state.kellyM;n[e].win=t,a.setState({kellyM:n})},a.handleOddsMChange=function(e,t){var n=a.state.kellyM;n[e].odds=t,a.setState({kellyM:n})},a.setRowM=function(e){a.setState({rowM:e})},a.handleRowChange=function(){var e=a.state.kellyM.length;if(e!==a.state.rowM){if(e>a.state.rowM){var t=a.state.rowM-e;a.state.kellyM.splice(t)}else for(;a.state.kellyM.length<a.state.rowM;)a.state.kellyM.push({win:0,odds:0,result:0});a.setState({kellyM:a.state.kellyM})}},a.setBankRollS1=function(e){var t,n,l=a.kellyStock1(e,a.state.meanS1,a.state.stdS1),r=Object(w.a)(l,2);t=r[0],n=r[1],a.setState({bankrollS1:e,optFS1:t,expectRS1:n})},a.setMeanS1=function(e){var t,n,l=a.kellyStock1(a.state.bankrollS1,e,a.state.stdS1),r=Object(w.a)(l,2);t=r[0],n=r[1],a.setState({meanS1:e,optFS1:t,expectRS1:n})},a.setStdS1=function(e){var t,n,l=a.kellyStock1(a.state.bankrollS1,a.state.meanS1,e),r=Object(w.a)(l,2);t=r[0],n=r[1],a.setState({stdS1:e,optFS1:t,expectRS1:n})},a.loadDebug=function(){a.setState({bankrollM:1e4,rowM:5,kellyM:[{win:.229,odds:4,result:0},{win:.457,odds:4,result:0},{win:.0571,odds:4,result:0},{win:.114,odds:4,result:0},{win:.143,odds:4,result:0}]})},a.createRandomStart=function(e,t){for(var a=0;a<e.length;++a)e[a]=Math.floor(Math.random()*t)},a.hanldeSubmit=function(){for(var e=a.state.rowM,t=new Array(e),n=a.state.rowM+1,l=[],r=[],i=0;i<e;++i)r.push(parseFloat(a.state.kellyM[i].win)),l.push(parseFloat(a.state.kellyM[i].odds));var o=parseFloat(a.state.bankrollM);function s(e,t,a,n){for(var i=0,s=0;s<e;++s)i+=a[s];var c=0;for(s=0;s<e;++s)n[s]=a[s],c+=r[s]*Math.log(o+a[s]*l[s]-i);return c=-Math.exp(c),n[e]=o-i,c}console.log("Here are the calculation argument."),console.log(r),console.log(l),console.log(o);var c=null,u=0;for(i=0;i<200;++i){a.createRandomStart(t,o/e);j(s,e,n,t,20,1e-6,0,3500,20);var m=a.calcG(t,o,r,l);m<u&&(u=m,c=t)}for(i=0;i<e;++i)a.state.kellyM[i].result=c[i].toFixed(2);a.setState({kellyM:a.state.kellyM})},a.calcG=function(e,t,a,n){for(var l=e.length,r=0,i=0;i<l;++i)r+=e[i];var o=0;for(i=0;i<l;++i)o+=a[i]*Math.log(t+e[i]*n[i]-r);return-Math.exp(o)},a.kellyStock2=function(e,t,a,n,l){var r=parseFloat(e),i=parseFloat(t),o=parseFloat(a);return r*(i/parseFloat(n)-o/parseFloat(l))},a.setBankrollS2=function(e){var t=a.kellyStock2(e,a.state.pS2,a.state.qS2,a.state.gainS2,a.state.lossS2);a.setState({bankrollS2:e,optFS2:t})},a.setPS2=function(e){var t=a.kellyStock2(a.state.bankrollS2,e,a.state.qS2,a.state.gainS2,a.state.lossS2);a.setState({pS2:e,optFS2:t})},a.setAS2=function(e){var t=a.kellyStock2(a.state.bankrollS2,a.state.pS2,a.state.qS2,e,a.state.lossS2);a.setState({gainS2:e,optFS2:t})},a.setQS2=function(e){var t=a.kellyStock2(a.state.bankrollS2,a.state.pS2,e,a.state.gainS2,a.state.lossS2);a.setState({qS2:e,optFS2:t})},a.setBS2=function(e){var t=a.kellyStock2(a.state.bankrollS2,a.state.pS2,a.state.qS2,a.state.gainS2,e);a.setState({lossS2:e,optFS2:t})},a.state={win1:0,odds1:0,bankroll1:0,result1:0,return1:0,kellyM:[{win:0,odds:0,result:0}],bankrollM:0,returnM:0,rowM:1,bankrollS1:0,meanS1:0,stdS1:0,optFS1:0,expectRS1:0,bankrollS2:0,pS2:0,qS2:0,gainS2:0,lossS2:0,optFS2:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={minWidth:"150px",display:"inline-block",marginLeft:25,marginRight:25,textAlign:"right"};return l.a.createElement(x.a.Provider,null,l.a.createElement("div",{className:"main"},l.a.createElement("h1",null,"Kelly calculator"),l.a.createElement("p",null,"Tools for win/loss, stock and horse win scenario "),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("p",null," COBYLA Code URL: ",l.a.createElement("a",{href:"https://github.com/smee/cobyla2"},"Github")," "),l.a.createElement("p",null," Paul Wilmott on Quantitative Finance, Chapter 17, Kelly criterion ",l.a.createElement("a",{href:"https://github.com/smee/cobyla2"},"Youtube")," "),l.a.createElement("p",null," Kelly wiki ",l.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Kelly_criterion"},"Link")," ")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("p",null,"For a game, the kelly criterion can be calculated as follow:"),l.a.createElement(x.a.Node,{formula:"f^*  = p - \\frac{1-p}{b}"})),l.a.createElement("div",{className:"tr"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Bankroll: "),l.a.createElement("input",{style:{width:"200px"},type:"number",value:this.state.bankroll1,onChange:function(t){return e.setBankroll1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Wins: "),l.a.createElement("input",{type:"number",step:"0.1",min:"0",max:"99999",style:{width:"200px"},value:this.state.win1,onChange:function(t){return e.setWin1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Odds: "),l.a.createElement("input",{type:"number",step:"0.1",min:"0",max:"1",style:{width:"200px"},value:this.state.odds1,onChange:function(t){return e.setOdds1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Result: "),l.a.createElement("input",{type:"text",readOnly:!0,style:{width:"200px"},value:this.state.result1}))))),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("p",null,"For stock, i have a strategy, with average return \u03bc and standard deviation \u03c3, calculate how much I should bet on it."),l.a.createElement(x.a.Node,{formula:"f^* = \\frac{\\mu}{\\sigma^2}"}),l.a.createElement(x.a.Node,{formula:"E(return) = 0.5 * \\frac{\\mu^2}{\\sigma^2}"})),l.a.createElement("div",{className:"tr"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Bankroll: "),l.a.createElement("input",{style:{width:"200px"},type:"number",value:this.state.bankrollS1,onChange:function(t){return e.setBankRollS1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Mean: "),l.a.createElement("input",{type:"number",style:{width:"200px"},value:this.state.meanS1,onChange:function(t){return e.setMeanS1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Standard deviation: "),l.a.createElement("input",{type:"number",style:{width:"200px"},value:this.state.stdS1,onChange:function(t){return e.setStdS1(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Optimal f*: "),l.a.createElement("input",{type:"text",readOnly:!0,style:{width:"200px"},value:this.state.optFS1})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," E(return): "),l.a.createElement("input",{type:"text",readOnly:!0,style:{width:"200px"},value:this.state.expectRS1}))))),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("p",null,"For stock, i have a trade with profit taker and loss taker, calculate how much bet I need"),l.a.createElement(x.a.Node,{formula:"f^* = \\frac{p}{a} - \\frac{q}{b}"})),l.a.createElement("div",{className:"tr"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Bankroll: "),l.a.createElement("input",{style:{width:"200px"},type:"number",value:this.state.bankrollS2,onChange:function(t){return e.setBankrollS2(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Win prob(p): "),l.a.createElement("input",{type:"number",step:"0.1",min:"0",max:"1",style:{width:"200px"},value:this.state.pS2,onChange:function(t){return e.setPS2(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Gain% (b): "),l.a.createElement("input",{type:"number",step:"0.1",style:{width:"200px"},value:this.state.lossS2,onChange:function(t){return e.setBS2(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Loss prob(p): "),l.a.createElement("input",{type:"number",step:"0.1",min:"0",max:"1",style:{width:"200px"},value:this.state.qS2,onChange:function(t){return e.setQS2(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Loss% (a): "),l.a.createElement("input",{type:"number",step:"0.1",style:{width:"200px"},value:this.state.gainS2,onChange:function(t){return e.setAS2(t.target.value)}})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("div",{style:{minWidth:"150px",display:"inline-block"}}," Optimial: "),l.a.createElement("input",{type:"text",readOnly:!0,style:{width:"200px"},value:this.state.optFS2}))))),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tr"},l.a.createElement("p",null,"This is for horse win scenario, P is the probability vector, B is the vector of bet, O is vector of odds"),l.a.createElement("p",null,"This impl. use COBYLA for non-linear optimzation"),l.a.createElement(x.a.Node,{formula:"\\underset{B}{\\text{max}} \\qquad G =  \\sum_{i=1}^{n} ln(T + B_i * O_i - \\sum_{i=1}^{n} B_i) "}),l.a.createElement(x.a.Node,{formula:"\\displaylines{ \\text{subject to} \\qquad B \\geq 0 \\\\ and \\qquad \\sum_{i=1}^{n} B_i \\leq T }"})),l.a.createElement("div",{className:"tr"},l.a.createElement("form",null,l.a.createElement("label",{style:{minWidth:"150px",display:"inline-block"}},"Bank roll: "),l.a.createElement("input",{type:"number",name:"bankroll",value:this.state.bankrollM,onChange:function(t){return e.setBankrollM(t.target.value)}}),l.a.createElement("div",null,l.a.createElement("label",{style:{minWidth:"200px",display:"inline-block"}},"Win"),l.a.createElement("label",{style:{minWidth:"200px",display:"inline-block"}},"Odds"),l.a.createElement("label",{style:{minWidth:"200px",display:"inline-block"}},"Result")),this.state.kellyM.map((function(a,n){return l.a.createElement("div",{className:"form-inline",key:n},l.a.createElement("input",{style:t,type:"number",name:"win",value:a.win,onChange:function(t){return e.handleWinMChange(n,t.target.value)}}),l.a.createElement("input",{style:t,type:"number",name:"odds",value:a.odds,onChange:function(t){return e.handleOddsMChange(n,t.target.value)}}),l.a.createElement("input",{style:t,type:"number",name:"kelly",readOnly:!0,value:a.result}))})),l.a.createElement("br",null),l.a.createElement("div",{className:"button-section"},l.a.createElement("input",{type:"number",name:"rownumber",value:this.state.rowM,onChange:function(t){return e.setRowM(t.target.value)}}),l.a.createElement("button",{className:"button add",type:"button",onClick:function(){return e.handleRowChange()}},"Change"),l.a.createElement("button",{className:"button add",type:"button",onClick:function(){return e.loadDebug()}},"Debug"),l.a.createElement("button",{className:"button submit",type:"button",onClick:this.hanldeSubmit},"Calculate"))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,"Written by tom")))}}]),t}(n.Component);var I=function(){return l.a.createElement(o.a,{basename:"/mytool"},l.a.createElement("div",null,l.a.createElement(s.a,{exact:!0,path:"/",component:f}),l.a.createElement(s.a,{path:"/dec2bin",component:y}),l.a.createElement(s.a,{path:"/reverseStr",component:k}),l.a.createElement(s.a,{path:"/multiLine",component:S}),l.a.createElement(s.a,{path:"/kelly",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.b723593d.chunk.js.map