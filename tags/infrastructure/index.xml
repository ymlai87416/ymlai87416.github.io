<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>infrastructure - tag - Tom personal site</title><link>https://ymlai87416.github.io/tags/infrastructure/</link><description>infrastructure - tag - Tom personal site</description><generator>Hugo -- gohugo.io</generator><language>zh</language><managingEditor>ymlai87416@gmail.com (Lai Yiu Ming, Tom)</managingEditor><webMaster>ymlai87416@gmail.com (Lai Yiu Ming, Tom)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 11 Apr 2022 15:04:19 +0100</lastBuildDate><atom:link href="https://ymlai87416.github.io/tags/infrastructure/" rel="self" type="application/rss+xml"/><item><title>Upgrade Kubernetes from 1.21 to 1.22</title><link>https://ymlai87416.github.io/blog/upgrade-k8s-v121-v122/</link><pubDate>Mon, 11 Apr 2022 15:04:19 +0100</pubDate><author/><guid>https://ymlai87416.github.io/blog/upgrade-k8s-v121-v122/</guid><description>I am writing to document the upgrade process from Kubernetes 1.21 to 1.22.
Kubernetes end of life schedule
The process is same as my previous post. link.
But this time, it break many things.
Current setup I have installed some services on the cluster, and I don&amp;rsquo;t have helm installed.
Because sometimes I need to edit the yaml before applying it.
Currently, I have the following software installed:
ingress-nginx: v0.46 cert-manager: v1.</description></item><item><title>Kubernetes move from docker to containerd</title><link>https://ymlai87416.github.io/blog/k8s-move-to-containerd/</link><pubDate>Sun, 10 Apr 2022 13:06:20 +0100</pubDate><author/><guid>https://ymlai87416.github.io/blog/k8s-move-to-containerd/</guid><description>Some good resources.
https://www.youtube.com/watch?v=H7l48VQewmA
https://kruyt.org/migrate-docker-containerd-kubernetes/
But never remove docker from your machine!!.
In my cluster, I use it to host images to keep haproxy and keepalived running. Removing docker means you break things.</description></item><item><title>Upgrade Kubernetes from 1.20 to 1.21</title><link>https://ymlai87416.github.io/blog/upgrade-k8s-v120/</link><pubDate>Sun, 10 Apr 2022 08:36:47 +0100</pubDate><author/><guid>https://ymlai87416.github.io/blog/upgrade-k8s-v120/</guid><description>I am writing to document the upgrade process from Kubernetes 1.20 to 1.21.
Seems I am expected to upgrade Kubernetes at least semi-annually, in order to play catch up with the fast evolving versions&amp;hellip;
Kubernetes end of life schedule
Current setup 3 Raspberry pi as master node. use Keepalived for HA.
Ubuntu 20.04 LTS (arm), docker version 1.4.4-1, kubernetes version 1.20.5
1 x86_64 VM node as worker node.
Ubuntu 20.04 LTS (x86_64), docker version 1.</description></item><item><title>3 nodes Kubernetes cluster failed due to cert error</title><link>https://ymlai87416.github.io/blog/multi-node-k8s-failed/</link><pubDate>Sat, 09 Apr 2022 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/multi-node-k8s-failed/</guid><description>1 year before I setup a Kubernetes cluster with 3 master nodes and 1 worker node, and today I got the following error
I don&amp;rsquo;t know that all the certs generated only have 1 year lifespan. Document says during update of cluster version should automatically update all the certs, but I don&amp;rsquo;t have the time&amp;hellip;
1 2 kubectl get pods --all-namespaces kubectl: Unable to connect to the server: x509: certificate has expired or is not yet valid Update process I found the following article.</description></item><item><title>Change in my personal infrastructure</title><link>https://ymlai87416.github.io/blog/change-in-infra/</link><pubDate>Tue, 05 Apr 2022 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/change-in-infra/</guid><description>Setup K8S cluster for my use K8S has outperformed my expectation and works really well. I don&amp;rsquo;t need to worry about dying computers anymore. If I think the project is OK and provides a stable income on it&amp;rsquo;s own. I just simply migrate to Google cloud provider.
The setup involved 3 Raspberry PI (3 master in ARM) and 1 intel NUC (x86).
Now all my web services are hosted by K8S.</description></item><item><title>Passing AWS Solution Architect Professional</title><link>https://ymlai87416.github.io/blog/passing-aws-solution-architect-prof/</link><pubDate>Sun, 14 Jun 2020 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/passing-aws-solution-architect-prof/</guid><description>Doing AWS Solution Architect Professional is like following road signs. It is intangible, it does not make you money, it does not teach you to make website. You just need to know enough to pass the exam and I advise you to take a breath first search approach to explore. The 5 domains are just nonsense. After reading them, you may ask yourself why you waste your precious life to do this.</description></item><item><title>My OSCP Journey</title><link>https://ymlai87416.github.io/blog/oscp-journey/</link><pubDate>Thu, 07 Feb 2019 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/oscp-journey/</guid><description>I am a software engineer working in HK for 7 years, no much security background. I did work on machine code debugging to get what I want, you know when playing game and submitting homework assignment.
I know OSCP for long, when Kali was still named as BackTrack. I thought that getting OSCP was hard and somehow I was worrying if I can complete the whole course.
I have read BackTrack and play with Metasploit when I was studying Mphil.</description></item><item><title>這個網站已經搬住 amazon web service</title><link>https://ymlai87416.github.io/blog/site-move-to-aws/</link><pubDate>Sat, 28 Apr 2018 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/site-move-to-aws/</guid><description>之前個網站係我自己台主機入面, 用Digital ocean reverse proxy 返過來，但係我發覺SSL 同 WordPress 係 reverse proxy 下實在太難搞，而且Google search console 又成日報錯，所以我決</description></item><item><title>Digital Ocean Reverse Proxy</title><link>https://ymlai87416.github.io/blog/digital-ocean-reverse-proxy/</link><pubDate>Sun, 02 Oct 2016 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/digital-ocean-reverse-proxy/</guid><description>我用 Digital ocean VPS 來做以下的事： 建立一個 reverse proxy 建立一個 zabbix 來監察我家server 的情況 （遲些有機會再說） 什麼是reverse proxy 簡單來說是一個http se</description></item><item><title>Dynamic Dns</title><link>https://ymlai87416.github.io/blog/dynamic-dns/</link><pubDate>Sun, 02 Oct 2016 00:00:00 +0800</pubDate><author/><guid>https://ymlai87416.github.io/blog/dynamic-dns/</guid><description>因為 Godaddy 買的東西不能掛 wordpress (五年前最平的套餐 ），所以我也有看看有沒有方法可以令到我用屋企IP 去建設網站，用過了 dynamic dns, no-ip, changeip, duckdns. 這是我一路來的感覺。 不用</description></item></channel></rss>