[{"categories":null,"content":"Server administration ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:0","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"Linux Create user sudo useradd test sudo mkdir /home/test sudo chown -R test: /home/test Routine server patch sudo apt update sudo apt upgrade #Exclude some packages ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:1","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"Setup VM and make it start automatically ## install virt-manager, it can connect to remote vm server virt-manager virsh autostart vmName ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:2","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"MySQL Create user with remote access CREATE USER 'myuser'@'%' IDENTIFIED BY 'mypass'; ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:3","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"Create new database and grant admin right to new user create database DWH; GRANT ALL ON database.table TO 'username'@'%'; FLUSH PRIVILEGES; Create a table # create table create table test( name VARCHAR(100), value VARCHAR(100), description VARCHAR(500) ) # primary key ALTER TABLE Persons ADD PRIMARY KEY (name); ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:4","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"K8s Basic admin See k8s dashboard kubectl proxy ssh -L 8001:localhost:8001 ubuntu@192.168.100.21 Find the token for login k8s console kubectl -n kubernetes-dashboard get secret $(kubectl -n kubernetes-dashboard get sa/admin-user -o jsonpath=\"{.secrets[0].name}\") -o go-template=\"{{.data.token | base64decode}}\" Cert manager Cert manager automatically renew. https://cert-manager.io/docs/usage/certificate/ ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:5","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"Ingress For exporting stuff Cheatsheet https://kubernetes.io/docs/reference/kubectl/cheatsheet/ ","date":"2022-04-04","objectID":"/cheatsheet/admin/:1:6","tags":null,"title":"Server admin","uri":"/cheatsheet/admin/"},{"categories":null,"content":"I am writing to document the upgrade process from Kubernetes 1.21 to 1.22. Kubernetes end of life schedule The process is same as my previous post. link. But this time, it break many things. ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:0:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Current setup I have installed some services on the cluster, and I don’t have helm installed. Because sometimes I need to edit the yaml before applying it. Currently, I have the following software installed: ingress-nginx: v0.46 cert-manager: v1.2 After upgrading the cluster to v1.22, some pods are not running and become CrashLoopBackOff. ubuntu@k8s-master01:~/install/tatson-k8s$ kubectl get pods --namespace=ingress-nginx NAME READY STATUS RESTARTS AGE ingress-nginx-controller-6d5cfc9f7d-7jkrq 0/1 CrashLoopBackOff 11 (80s ago) 32m ubuntu@k8s-master01:~/install/tatson-k8s$ kubectl get pods --namespace=cert-manager NAME READY STATUS RESTARTS AGE cert-manager-6588898cb4-w7hg8 1/1 Running 0 60m cert-manager-cainjector-7bcbdbd99f-zflt5 0/1 Error 15 (5m41s ago) 60m cert-manager-webhook-5fd9f9dd86-c4vv8 1/1 Running 0 60m ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:1:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Upgrading ingress-nginx Should be fine by just applying the latest version of yaml file. For bare metal: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/baremetal/deploy.yaml But applying these result in Resource: \"batch/v1, Resource=jobs\", GroupVersionKind: \"batch/v1, Kind=Job\" Name: \"ingress-nginx-admission-create\", Namespace: \"ingress-nginx\" for: \"https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.2/deploy/static/provider/cloud/deploy.yaml\": Job.batch \"ingress-nginx-admission-create\" is invalid: spec.template: Invalid value: core.PodTemplateSpec{ObjectMeta:v1.ObjectMeta{Name:\"ingress-nginx-admission-create\", ... Resource: \"batch/v1, Resource=jobs\", GroupVersionKind: \"batch/v1, Kind=Job\" Name: \"ingress-nginx-admission-patch\", Namespace: \"ingress-nginx\" for: \"https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.2/deploy/static/provider/cloud/deploy.yaml\": Job.batch \"ingress-nginx-admission-patch\" is invalid: spec.template: Invalid value: To resolve these, just delete the job under ingress-nginx. NAME COMPLETIONS DURATION AGE ingress-nginx-admission-create 1/1 1s 3h37m ingress-nginx-admission-patch 1/1 1s 3h37m ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:2:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Upgrading cert-manager From the website, it advise to upgrade to the next minor version, so I have to upgrade from v1.2 to v1.3, and then v1.4, v1.5, v1.6 and finally v1.7 The upgrade returns no error, and seems everything is running fine. ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:3:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Final words I totally not aware of these software need to be updated also. I should have reviewed my Kubernetes cluster at least semi-yearly. ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:4:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Reference [1] Ingress-nginx support version: https://github.com/kubernetes/ingress-nginx#support-versions-table [2] Cert manager supported release: https://cert-manager.io/docs/installation/supported-releases/ ","date":"2022-04-11","objectID":"/blog/upgrade-k8s-v121-v122/:5:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v121-v122/"},{"categories":null,"content":"Some good resources. https://www.youtube.com/watch?v=H7l48VQewmA https://kruyt.org/migrate-docker-containerd-kubernetes/ But never remove docker from your machine!!. In my cluster, I use it to host images to keep haproxy and keepalived running. Removing docker means you break things. ","date":"2022-04-10","objectID":"/blog/k8s-move-to-containerd/:0:0","tags":["computer science","infrastructure"],"title":"Kubernetes move from docker to containerd","uri":"/blog/k8s-move-to-containerd/"},{"categories":null,"content":"I am writing to document the upgrade process from Kubernetes 1.20 to 1.21. Seems I am expected to upgrade Kubernetes at least semi-annually, in order to play catch up with the fast evolving versions… Kubernetes end of life schedule ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:0:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Current setup 3 Raspberry pi as master node. use Keepalived for HA. Ubuntu 20.04 LTS (arm), docker version 1.4.4-1, kubernetes version 1.20.5 1 x86_64 VM node as worker node. Ubuntu 20.04 LTS (x86_64), docker version 1.4.4-1, kubernetes version 1.20.5 All machines hold the following packages: kubeadm, kubelet, kubectl, containerd.io ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:1:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Target Upgrade all nodes to Kubernetes version 1.21.11-0 Docker version 1.5.11-1 ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:2:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Upgrade process Time taken: 1 hour. ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Upgrade first master node Upgrade kubeadm to 1.21.11-0 apt-get update \u0026\u0026 apt-get install -y kubeadm=1.21.11-00 \u0026\u0026 apt-mark hold kubeadm # output $ apt-mark unhold kubeadm $ apt-get update \u0026\u0026 apt-get install -y kubeadm=1.21.11-00 \u0026\u0026 apt-mark hold kubeadm Hit:1 https://download.docker.com/linux/ubuntu focal InRelease Hit:3 http://ports.ubuntu.com/ubuntu-ports focal InRelease Hit:2 https://packages.cloud.google.com/apt kubernetes-xenial InRelease Hit:4 http://ports.ubuntu.com/ubuntu-ports focal-updates InRelease Hit:5 http://ports.ubuntu.com/ubuntu-ports focal-backports InRelease Hit:6 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease Reading package lists... Done Reading package lists... Done Building dependency tree Reading state information... Done The following packages were automatically installed and are no longer required: … Use 'sudo apt autoremove' to remove them. The following packages will be upgraded: kubeadm 1 upgraded, 0 newly installed, 0 to remove and 4 not upgraded. Need to get 7303 kB of archives. After this operation, 5308 kB of additional disk space will be used. Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main arm64 kubeadm arm64 1.21.11-00 [7303 kB] Fetched 7303 kB in 1s (4933 kB/s) (Reading database ... 150653 files and directories currently installed.) Preparing to unpack .../kubeadm_1.21.11-00_arm64.deb ... Unpacking kubeadm (1.21.11-00) over (1.20.5-00) ... Setting up kubeadm (1.21.11-00) ... kubeadm set on hold. Derive update plan kubeadm upgrade plan # output [upgrade/config] Making sure the configuration is correct: [upgrade/config] Reading configuration from the cluster... [upgrade/config] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml' [preflight] Running pre-flight checks. [upgrade] Running cluster health checks [upgrade] Fetching available versions to upgrade to [upgrade/versions] Cluster version: v1.20.0 [upgrade/versions] kubeadm version: v1.21.11 I0410 14:21:06.582792 7078 version.go:254] remote version is much newer: v1.23.5; falling back to: stable-1.21 [upgrade/versions] Target version: v1.21.11 [upgrade/versions] Latest version in the v1.20 series: v1.20.15 Components that must be upgraded manually after you have upgraded the control plane with 'kubeadm upgrade apply': COMPONENT CURRENT TARGET kubelet 4 x v1.20.5 v1.20.15 Upgrade to the latest version in the v1.20 series: COMPONENT CURRENT TARGET kube-apiserver v1.20.0 v1.20.15 kube-controller-manager v1.20.0 v1.20.15 kube-scheduler v1.20.0 v1.20.15 kube-proxy v1.20.0 v1.20.15 CoreDNS 1.7.0 v1.8.0 etcd 3.4.13-0 3.4.13-0 You can now apply the upgrade by executing the following command: kubeadm upgrade apply v1.20.15 _____________________________________________________________________ Components that must be upgraded manually after you have upgraded the control plane with 'kubeadm upgrade apply': COMPONENT CURRENT TARGET kubelet 4 x v1.20.5 v1.21.11 Upgrade to the latest stable version: COMPONENT CURRENT TARGET kube-apiserver v1.20.0 v1.21.11 kube-controller-manager v1.20.0 v1.21.11 kube-scheduler v1.20.0 v1.21.11 kube-proxy v1.20.0 v1.21.11 CoreDNS 1.7.0 v1.8.0 etcd 3.4.13-0 3.4.13-0 You can now apply the upgrade by executing the following command: kubeadm upgrade apply v1.21.11 _____________________________________________________________________ The table below shows the current state of component configs as understood by this version of kubeadm. Configs that have a \"yes\" mark in the \"MANUAL UPGRADE REQUIRED\" column require manual config upgrade or resetting to kubeadm defaults before a successful upgrade can be performed. The version to manually upgrade to is denoted in the \"PREFERRED VERSION\" column. API GROUP CURRENT VERSION PREFERRED VERSION MANUAL UPGRADE REQUIRED kubeproxy.config.k8s.io v1alpha1 v1alpha1 no kubelet.config.k8s.io v1beta1 v1beta1 no _____________________________________________________________________ Apply update plan 1.21.11 to the first","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:1","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Upgrade other master nodes Repeat step 6-8 on other master nodes Update kubeadm on other master nodes apt-mark unhold kubeadm \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y kubeadm=1.21.11-00 \u0026\u0026 apt-mark hold kubeadm #output Canceled hold on kubeadm. Hit:1 https://download.docker.com/linux/ubuntu focal InRelease Hit:3 http://ports.ubuntu.com/ubuntu-ports focal InRelease Hit:2 https://packages.cloud.google.com/apt kubernetes-xenial InRelease Get:4 http://ports.ubuntu.com/ubuntu-ports focal-updates InRelease [114 kB] Get:5 http://ports.ubuntu.com/ubuntu-ports focal-backports InRelease [108 kB] Get:6 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease [114 kB] Get:7 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 Packages [1177 kB] Get:8 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe arm64 Packages [863 kB] Fetched 2376 kB in 3s (682 kB/s) Reading package lists... Done Reading package lists... Done Building dependency tree Reading state information... Done The following packages were automatically installed and are no longer required: … Use 'sudo apt autoremove' to remove them. The following packages will be upgraded: kubeadm 1 upgraded, 0 newly installed, 0 to remove and 4 not upgraded. Need to get 7303 kB of archives. After this operation, 5308 kB of additional disk space will be used. Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main arm64 kubeadm arm64 1.21.11-00 [7303 kB] Fetched 7303 kB in 1s (8953 kB/s) (Reading database ... 150581 files and directories currently installed.) Preparing to unpack .../kubeadm_1.21.11-00_arm64.deb ... Unpacking kubeadm (1.21.11-00) over (1.20.5-00) ... Setting up kubeadm (1.21.11-00) ... kubeadm set on hold. Apply update plan kubeadm upgrade node #output [upgrade] Reading configuration from the cluster... [upgrade] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml' [preflight] Running pre-flight checks [preflight] Pulling images required for setting up a Kubernetes cluster [preflight] This might take a minute or two, depending on the speed of your internet connection [preflight] You can also perform this action in beforehand using 'kubeadm config images pull' [upgrade] Upgrading your Static Pod-hosted control plane instance to version \"v1.21.11\"... Static pod: kube-apiserver-k8s-master02 hash: bbdf76d8ed7bbfbefa3eb630aa51b714 Static pod: kube-controller-manager-k8s-master02 hash: 96d194097d7a0962788e7017657e9408 Static pod: kube-scheduler-k8s-master02 hash: 81d2d21449d64d5e6d5e9069a7ca99ed [upgrade/etcd] Upgrading to TLS for etcd Static pod: etcd-k8s-master02 hash: dbba304816e4096538130e05d56ce432 [upgrade/staticpods] Preparing for \"etcd\" upgrade [upgrade/staticpods] Renewing etcd-server certificate [upgrade/staticpods] Renewing etcd-peer certificate [upgrade/staticpods] Renewing etcd-healthcheck-client certificate [upgrade/staticpods] Moved new manifest to \"/etc/kubernetes/manifests/etcd.yaml\" and backed up old manifest to \"/etc/kubernetes/tmp/kubeadm-backup-manifests-2022-04-10-14-38-44/etcd.yaml\" [upgrade/staticpods] Waiting for the kubelet to restart the component [upgrade/staticpods] This might take a minute or longer depending on the component/version gap (timeout 5m0s) Static pod: etcd-k8s-master02 hash: dbba304816e4096538130e05d56ce432 …Static pod: etcd-k8s-master02 hash: 7ad49516ae7d2e9bb37ae4548bac7ee7 [apiclient] Found 3 Pods for label selector component=etcd [upgrade/staticpods] Component \"etcd\" upgraded successfully! [upgrade/etcd] Waiting for etcd to become available [upgrade/staticpods] Writing new Static Pod manifests to \"/etc/kubernetes/tmp/kubeadm-upgraded-manifests617011125\" [upgrade/staticpods] Preparing for \"kube-apiserver\" upgrade [upgrade/staticpods] Renewing apiserver certificate [upgrade/staticpods] Renewing apiserver-kubelet-client certificate [upgrade/staticpods] Renewing front-proxy-client certificate [upgrade/staticpods] Renewing apiserver-etcd-client certificate [upgrade/","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:2","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Checkpoint - master nodes Now run kubectl get nodes should show all master nodes are having same version v1.21.11. NAME STATUS ROLES AGE VERSION k8s-master01 Ready control-plane,master 368d v1.21.11 k8s-master02 Ready control-plane,master 32h v1.21.11 k8s-master03 Ready control-plane,master 368d v1.21.11 k8s-node01 Ready \u003cnone\u003e 368d v1.20.5 Update kubectl on all master nodes apt-mark unhold kubectl \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y kubectl=1.21.11-00 \u0026\u0026 apt-mark hold kubectl ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:3","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Upgrade worker nodes There is only 1 node to update in my case Update kubeadm on worker node apt-mark unhold kubeadm \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y kubeadm=1.21.11-00 \u0026\u0026 apt-mark hold kubeadm Drain worker node on MASTER machine kubectl drain k8s-node01 --ignore-daemonsets #output node/k8s-node01 cordoned WARNING: ignoring DaemonSet-managed Pods: kube-system/kube-flannel-ds-cttj7, kube-system/kube-proxy-zmkml evicting pod cert-manager/cert-manager-6588898cb4-bc4ks ... evicting pod cert-manager/cert-manager-cainjector-7bcbdbd99f-j59b4 ... evicting pod ingress-nginx/ingress-nginx-controller-6d5cfc9f7d-wfr9t evicting pod cert-manager/cert-manager-webhook-5fd9f9dd86-dx2qq ... ... pod/cert-manager-cainjector-7bcbdbd99f-j59b4 evicted I0410 15:12:22.003098 44940 request.go:655] Throttling request took 1.151010174s, request: GET:xxxx pod/cert-manager-6588898cb4-bc4ks evicted ... pod/cert-manager-webhook-5fd9f9dd86-dx2qq evicted pod/ingress-nginx-controller-6d5cfc9f7d-wfr9t evicted ... node/k8s-node01 evicted Apply upgrade to worker node On worker machine. kubeadm upgrade node #output [upgrade] Reading configuration from the cluster... [upgrade] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml' [preflight] Running pre-flight checks [preflight] Skipping prepull. Not a control plane node. [upgrade] Skipping phase. Not a control plane node. [kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\" [upgrade] The configuration for this node was successfully updated! [upgrade] Now you should go ahead and upgrade the kubelet package using your package manager. Upgrade kubelet and restart service apt-mark unhold kubelet \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y kubelet=1.21.11-00 \u0026\u0026 apt-mark hold kubelet systemctl restart kubelet Restore worker node kubectl uncordon k8s-node01 #output node/k8s-node01 uncordoned ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:4","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Final health check Run kubectl get nodes should show the following result. NAME STATUS ROLES AGE VERSION k8s-master01 Ready control-plane,master 368d v1.21.11 k8s-master02 Ready control-plane,master 32h v1.21.11 k8s-master03 Ready control-plane,master 368d v1.21.11 k8s-node01 Ready \u003cnone\u003e 368d v1.21.11 ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:5","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Upgrade also containerd.io If everything is fine, update the containerd.io to the latest version using the following command apt-mark unhold containerd.io \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y containerd.io \u0026\u0026 apt-mark hold containerd.io ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:3:6","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Useful command Check what version available for a package apt-cache madison containerd.io # output containerd.io | 1.5.11-1 | https://download.docker.com/linux/ubuntu focal/stable arm64 Packages containerd.io | 1.5.10-1 | https://download.docker.com/linux/ubuntu focal/stable arm64 Packages containerd.io | 1.4.13-1 | https://download.docker.com/linux/ubuntu focal/stable arm64 Packages ... Check current install version apt-get -s install containerd.io # output NOTE: This is only a simulation! apt-get needs root privileges for real execution. Keep also in mind that locking is deactivated, so don't depend on the relevance to the real current situation! Reading package lists... Done Building dependency tree Reading state information... Done The following held packages will be changed: containerd.io The following packages will be upgraded: containerd.io 1 upgraded, 0 newly installed, 0 to remove and 4 not upgraded. Inst containerd.io [1.4.4-1] (1.5.11-1 Docker CE:focal [arm64]) Conf containerd.io (1.5.11-1 Docker CE:focal [arm64]) ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:4:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"Reference [1] https://platform9.com/blog/kubernetes-upgrade-the-definitive-guide-to-do-it-yourself/ [2] https://www.lisenet.com/2021/upgrading-homelab-kubernetes-cluster-from-1-20-to-1-21/ ","date":"2022-04-10","objectID":"/blog/upgrade-k8s-v120/:5:0","tags":["computer science","infrastructure"],"title":"Upgrade Kubernetes from 1.20 to 1.21","uri":"/blog/upgrade-k8s-v120/"},{"categories":null,"content":"1 year before I setup a Kubernetes cluster with 3 master nodes and 1 worker node, and today I got the following error I don’t know that all the certs generated only have 1 year lifespan. Document says during update of cluster version should automatically update all the certs, but I don’t have the time… kubectl get pods --all-namespaces kubectl: Unable to connect to the server: x509: certificate has expired or is not yet valid ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:0:0","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"Update process I found the following article. Solve the certificate error, but… Please follow this link to complete the setup. ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:1:0","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"After update I do a health check and I saw this ubuntu@k8s-master02:/etc/kubernetes$ kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master01 Ready control-plane,master 367d v1.20.5 k8s-master02 NotReady control-plane,master 367d v1.20.5 k8s-master03 Ready control-plane,master 367d v1.20.5 k8s-node01 Ready \u003cnone\u003e 367d v1.20.5 I login to k8s-master02. run journalctl -u kubelet shows the following error Attempting to register node k8s-master02 Apr 09 05:25:17 k8s-master02 kubelet[744]: E0409 05:25:17.570172 744 kubelet_node_status.go:93] Unable to register node with API server: nodes is forbidden: User \"system:anonymous\" cannot create resource \"nodes\" in API group \"\" at the cluster scope ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:2:0","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"Re-add master node I search Google, seems no one have the same error, so I have to delete the k8s-master02 node and re-add. ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:3:0","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"On k8s-master01 Before removing k8s-master02, I need to find a way to add k8s-master02 back This stackoverflow page is helpful https://stackoverflow.com/questions/63936268/how-to-generate-kubeadm-token-for-secondary-control-plane-nodes # temporary add a upload certs for joining new control plane. (Valid only for 2 hours) kubeadm init phase upload-certs --upload-certs # ask k8s to generate the join command kubeadm token create --print-join-command remove k8s-master02 kubectl drain k8s-master02 kubectl delete node k8s-master02 ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:3:1","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"On k8s-master02 Now, I have the join command, I run the following commands kubeadm reset kubeadm join 192.168.100.20:6444 --token pel8cz.mtvnu0n7q8aj6lx6 --discovery-token-ca-cert-hash sha256:xxxxxxx --control-plane --certificate-key xxxxxxxx another error come out…. 1006 18:54:08.820819 2954 manifests.go:135] [control-plane] wrote static Pod manifest for component \"kube-scheduler\" to \"/etc/kubernetes/manifests/kube-scheduler.yaml\" [check-etcd] Checking that the etcd cluster is healthy failed to dial endpoint https://192.168.100.22:2379 with maintenance client ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:3:2","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"Clear etc This page helps me to troubleshoot. https://stackoverflow.com/questions/67921552/re-installed-node-cannot-join-kubernetes-cluster Back to k8s-master01 # have to install etc-client on ubuntu ETCDCTL_API=3 etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member list # list of etcd member 5a4945140f0b39d9, started, sbg2-k8s001, https://192.168.208.12:2380, https://192.168.208.12:2379 740381e3c57ef823, started, gra3-k8s001, https://192.168.208.13:2380, https://192.168.208.13:2379 77a8fbb530b10f4a, started, rbx4-k8s001, https://192.168.208.14:2380, https://192.168.208.14:2379 # remove k8s-master02 from the above list ETCDCTL_API=3 etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member remove e073aa5a204b727d ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:3:3","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"Finally I am able to re-join k8s-master02 now and all nodes are healthy. NAME STATUS ROLES AGE VERSION k8s-master01 Ready control-plane,master 367d v1.20.5 k8s-master02 Ready control-plane,master 31s v1.20.5 k8s-master03 Ready control-plane,master 367d v1.20.5 k8s-node01 Ready \u003cnone\u003e 367d v1.20.5 ","date":"2022-04-09","objectID":"/blog/multi-node-k8s-failed/:3:4","tags":["computer science","infrastructure"],"title":"3 nodes Kubernetes cluster failed due to cert error","uri":"/blog/multi-node-k8s-failed/"},{"categories":null,"content":"Learning english vocab Putonghua pinyin table Development tools Algorithm summary Markdown table generator ","date":"2022-04-05","objectID":"/tools/:0:0","tags":null,"title":"Tools","uri":"/tools/"},{"categories":null,"content":"My favorite links ","date":"2022-04-05","objectID":"/link/:1:0","tags":null,"title":"Link","uri":"/link/"},{"categories":null,"content":"Mindmaps My AWS notes Algorithm notes ","date":"2022-04-05","objectID":"/link/:1:1","tags":null,"title":"Link","uri":"/link/"},{"categories":null,"content":"Productivity site Trello Design website: Figma, Canvas API development Postman Interview related: Leetcode Patterns, System design primer Bitcoin and NFT: Check transaction: Etherscan, BSCscan NFT market like: Opensea, SolanaArt, Flips Finance Ethereum gas fee: Gas estimator A list of launch pads: https://theislandnow.com/blog-112/best-ido-launchpads/ Mobile app Google Play console App store developer ","date":"2022-04-05","objectID":"/link/:1:2","tags":null,"title":"Link","uri":"/link/"},{"categories":null,"content":"Youtube channel Trading Part Time Larry Very useful tutorial of how to realize all your idea. Trading rush Give me idea of how an indicator works ","date":"2022-04-05","objectID":"/link/:1:3","tags":null,"title":"Link","uri":"/link/"},{"categories":null,"content":"Setup K8S cluster for my use K8S has outperformed my expectation and works really well. I don’t need to worry about dying computers anymore. If I think the project is OK and provides a stable income on it’s own. I just simply migrate to Google cloud provider. The setup involved 3 Raspberry PI (3 master in ARM) and 1 intel NUC (x86). Now all my web services are hosted by K8S. e.g. my trade bot, my instragram bot. ","date":"2022-04-05","objectID":"/blog/change-in-infra/:0:1","tags":["infrastructure"],"title":"Change in my personal infrastructure","uri":"/blog/change-in-infra/"},{"categories":null,"content":"Try use Hugo to host my website I duplicate my original website to here. Seems promising after I have tested out VuePress as my cheatsheet app. ","date":"2022-04-05","objectID":"/blog/change-in-infra/:0:2","tags":["infrastructure"],"title":"Change in my personal infrastructure","uri":"/blog/change-in-infra/"},{"categories":null,"content":"Welcome to my personal blog. I am a software engineer from HK. I also like to flip NFT, if you like my content, please send some bitcoin to this address: 0xf17283E9254187aC04596Ac30E006A34db4cb250 Thank you ","date":"2022-04-04","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"},{"categories":null,"content":"Dart ","date":"2022-04-04","objectID":"/cheatsheet/dart/:1:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Basic structure ","date":"2022-04-04","objectID":"/cheatsheet/dart/:2:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Simple declaration int x = 5; int? x; x ??= 5 //??= only assign when it is null final PI = 3.141592653589793; ","date":"2022-04-04","objectID":"/cheatsheet/dart/:2:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Declare array final aListOfInts = \u003cint\u003e[]; final aListOfStrings = ['one', 'two', 'three']; Dim matrix = New Integer(3, 2) {{1, 2, 3}, {2, 3, 4}, {3, 4, 5}, {4, 5, 6}} ","date":"2022-04-04","objectID":"/cheatsheet/dart/:2:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Declare structure ","date":"2022-04-04","objectID":"/cheatsheet/dart/:2:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Enum enum Status { none, running, stopped, paused } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:2:4","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Control structure import 'project/car.dart'; void main() { List\u003cCar\u003e cars = [Car(name=\"Volvo\"), Car(name=\"BMW\"), Car(name=\"Ford\"), Car(name=\"Mazda\"), null,] Car c= new Car(); for(var i = 0; i\u003ccars.length; ++i) try { c.disp(); } on OutOfGasException { print('Out of gas') } on Exception catch (e) { print('Unknown exception: $e'); } catch (e) { print('Something really unknown: $e'); } } } class Car { // field String engine = \"E1001\"; String name; Car({required this.name}); // function void disp() { print(engine); } Future\u003cRoadCondition\u003e fetchRoadCondition(int type) async { } } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:3:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"String ","date":"2022-04-04","objectID":"/cheatsheet/dart/:4:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Basic operation String Str1 = \"geeks\"; print(Str1.toUpperCase()); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:4:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Replace String gfg = \"Welcome GeeksForGeeks\"; String result = gfg.replaceAll(\"GeeksForGeeks\", \"Geek!\"); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:4:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Concat and compare var c1 = a + b; // + operator var c2 = '$a$b'; // string interpolation var c3 = 'a' 'b'; // string literals separated only by whitespace are concatenated automatically print(rubi == ore); // true, contain the same characters ","date":"2022-04-04","objectID":"/cheatsheet/dart/:4:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Regular expression RegExp hexColor = RegExp(r'^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$'); hexColor.hasMatch('#3b5'); // true hexColor.hasMatch('#FF7723'); // true hexColor.hasMatch('#000000z'); // false final myString = '25F8..25FF ; Common # Sm [8] UPPER LEFT TRIANGLE'; // find a variable length hex value at the beginning of the line final regexp = RegExp(r'^[0-9a-fA-F]+'); // find the first match though you could also do `allMatches` final match = regexp.firstMatch(myString); // group(0) is the full matched text // if your regex had groups (using parentheses) then you could get the // text from them by using group(1), group(2), etc. final matchedText = match?.group(0); // 25F8 ","date":"2022-04-04","objectID":"/cheatsheet/dart/:4:4","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Array ","date":"2022-04-04","objectID":"/cheatsheet/dart/:5:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Basic operation, access of element List\u003cString\u003e cars = [\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"]; print(cars[0]); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:5:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Traverse, sort for (final i in cars) { print(i); } cars.sort((a, b) =\u003e a.length.compareTo(b.length)); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:5:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Date ","date":"2022-04-04","objectID":"/cheatsheet/dart/:6:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"New date final now = DateTime.now(); final berlinWallFell = DateTime.utc(1989, 11, 9); final moonLanding = DateTime.parse('1969-07-20 20:18:04Z'); // 8:18pm final today = DateTime(now.year, now.month, now.day); //remove time part ","date":"2022-04-04","objectID":"/cheatsheet/dart/:6:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Add days date1.subtract(Duration(days: 7, hours: 3, minutes: 43, seconds: 56)); date1.add(Duration(days: 1, hours: 23))); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:6:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Compare date, diff date print(givenDate.isAfter(dt1)); // false print(givenDate.isBefore(dt1)); // true print(givenDate.compareTo(dt1)); // -1 int daysBetween(DateTime from, DateTime to) { from = DateTime(from.year, from.month, from.day); to = DateTime(to.year, to.month, to.day); return (to.difference(from).inHours / 24).round(); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:6:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Format date import 'package:intl/intl.dart'; final DateTime now = DateTime.now(); final DateFormat formatter = DateFormat('yyyy-MM-dd'); final String formatted = formatter.format(now); print(formatted); // something like 2013-04-20 ","date":"2022-04-04","objectID":"/cheatsheet/dart/:6:4","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"File ","date":"2022-04-04","objectID":"/cheatsheet/dart/:7:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Console read write import 'dart:convert'; import 'dart:io'; void main() { print('1 + 1 = ...'); var line = stdin.readLineSync(encoding: utf8); print(line?.trim() == '2' ? 'Yup!' : 'Nope :('); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:7:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Read write line with UTF-8 Future\u003cString\u003e get _localPath async { final directory = await getApplicationDocumentsDirectory(); return directory.path; } Future\u003cFile\u003e get _localFile async { final path = await _localPath; return File('$path/counter.txt'); } Future\u003cFile\u003e writeCounter(int counter) async { final file = await _localFile; // Write the file return file.writeAsString('$counter'); } Future\u003cint\u003e readCounter() async { try { final file = await _localFile; // Read the file final contents = await file.readAsString(); return int.parse(contents); } catch (e) { // If encountering an error, return 0 return 0; } } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:7:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"File system operation import 'dart:io'; void createFileRecursively(String filename) { // Create a new directory, recursively creating non-existent directories. new Directory.fromPath(new Path(filename).directoryPath) .createSync(recursive: true); new File(filename).createSync(); } createFileRecursively('foo/bar/baz/bleh.html'); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:7:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Database ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Connection string list - NOSQL final database = MemoryDatabase(); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Open connection final collection = database.collection('pizzas'); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Execute update/insert // Our document final document = collection.newDocument(); // Insert a pizza await document.insert({ 'name': 'Pizza Margherita', 'rating': 3.5, 'ingredients': ['dough', 'tomatoes'], 'similar': [ database.collection('recipes').document('pizza_funghi'), ], }); //updater individuals await product.patch( { 'price': 12.50, }, ); await document.delete(); await database.runInTransaction((transaction) async { final document = database.collection('products').document('coffeeMugId'); final snapshot = await transaction.get(document); final price = snapshot.data['price'] as double; await transaction.patch(document, { 'price': price + 1.50, }); ), timeout: Duration(seconds:3); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Execute select // Define what we are searching final query = Query( filter: MapFilter({ 'category': OrFilter([ ValueFilter('computer'), ValueFilter('tablet'), ]), 'price': RangeFilter(min:0, max:1000), }), skip: 0, // Start from the first result item take: 10, // Return 10 result items ); // Send query to the database final result = await database.collection('product').search( query: query, reach: Reach.server, ); // For each snapshots for (var snapshot in result.snapshots) { // Get price final price = snapshot.data['price'] as double; print('price: $price'); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:4","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Connection string list - SQL import 'package:database/sql.dart'; import 'package:database_adapter_postgre/database_adapter_postgre.dart'; // In this example, we use PostgreSQL adapter final database = Postgre( host: 'localhost', user: 'database user', password: 'database password', databaseName: 'example', ).database(); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:5","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Open connection // Get SQL client. final sqlClient = database.sqlClient; ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:6","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Execute update/insert await sqlClient.execute( 'INSERT INTO Product (name, price) VALUES (?, ?)', ['Pizza Hawaii', 8.50], ); await sqlClient.execute('DELETE FROM Product WHERE price \u003c ?', [5.0]); await sqlClient.runInTransaction((transaction) async { final values = await transaction.query('...').toMaps(); // ... await transaction.execute('...'); await transaction.execute('...'); // ... ), timeout: Duration(seconds:3)); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:7","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Execute select final pizzas = await sqlClient.query( 'SELECT * FROM product WHERE type = ?, price \u003c ?', ['pizza', 10], ).toMaps(); for (var pizza in pizzas) { print(pizza['name']); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:8:8","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Popular format ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"CSV Read import 'package:csv/csv.dart'; final input = new File('a/csv/file.txt').openRead(); final fields = await input.transform(utf8.decoder).transform(new CsvToListConverter()).toList(); Write final res = const ListToCsvConverter().convert([[',b', 3.1, 42], ['n\\n']]); assert(res == '\",b\",3.1,42\\r\\n\"n\\n\"'); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"DOM / XML Read / Write import 'package:xml/xml.dart'; final bookshelfXml = '''\u003c?xml version=\"1.0\"?\u003e \u003cbookshelf\u003e \u003cbook\u003e \u003ctitle lang=\"english\"\u003eGrowing a Language\u003c/title\u003e \u003cprice\u003e29.99\u003c/price\u003e \u003c/book\u003e \u003cbook\u003e \u003ctitle lang=\"english\"\u003eLearning XML\u003c/title\u003e \u003cprice\u003e39.95\u003c/price\u003e \u003c/book\u003e \u003cprice\u003e132.00\u003c/price\u003e \u003c/bookshelf\u003e'''; final document = XmlDocument.parse(bookshelfXml); final total = document.findAllElements('book') .map((node) =\u003e double.parse(node.findElements('price').single.text)) .reduce((a, b) =\u003e a + b); print(total); final builder = XmlBuilder(); builder.processing('xml', 'version=\"1.0\"'); builder.element('bookshelf', nest: () { builder.element('book', nest: () { builder.element('title', nest: () { builder.attribute('lang', 'en'); builder.text('Growing a Language'); }); builder.element('price', nest: 29.99); }); builder.element('book', nest: () { builder.element('title', nest: () { builder.attribute('lang', 'en'); builder.text('Learning XML'); }); builder.element('price', nest: 39.95); }); builder.element('price', nest: 132.00); }); final bookshelfXml = builder.buildDocument(); Select element and Traverse final titles = document.findAllElements('title'); titles .map((node) =\u003e node.text) .forEach(print); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"JSON Read / Write import 'dart:convert'; final parsed = jsonDecode(responseBody).cast\u003cMap\u003cString, dynamic\u003e\u003e(); factory Photo.fromJson(Map\u003cString, dynamic\u003e json) { return Photo( albumId: json['albumId'] as int, id: json['id'] as int, title: json['title'] as String, url: json['url'] as String, thumbnailUrl: json['thumbnailUrl'] as String, ); } Map\u003cString, dynamic\u003e toJson() =\u003e { 'name': name, 'email': email, }; String json = jsonEncode(user); Map\u003cString, dynamic\u003e userMap = jsonDecode(jsonString); var user = User.fromJson(userMap); ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Yaml import 'package:yaml/yaml.dart'; var doc = loadYaml(\"YAML: YAML Ain't Markup Language\"); print(doc['YAML']); // json is a valid yaml so you can dump it as json.!? ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:4","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Web/API call Fetch http and call api import 'package:http/http.dart' as http; Future\u003cList\u003cPhoto\u003e\u003e fetchPhotos(http.Client client) async { final response = await client .get(Uri.parse('https://jsonplaceholder.typicode.com/photos')); // Use the compute function to run parsePhotos in a separate isolate. return compute(parsePhotos, response.body); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:9:5","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Advance structure / Popular structure ","date":"2022-04-04","objectID":"/cheatsheet/dart/:10:0","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Map Map\u003cint, double\u003e aMapOfIntToDouble = \u003cint, double\u003e{}; map.forEach((k, v) =\u003e print(\"Key : $k, Value : $v\")); for (var k in numMap.keys) { print(\"Key : $k, value : ${numMap[k]}\"); } for (MapEntry e in numMap.entries) { print(\"Key ${e.key}, Value ${e.value}\"); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:10:1","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Set Set\u003cint\u003e aSetOfInts = \u003cint\u003e{}; for (var e in mySet) { //code } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:10:2","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"List List\u003cint\u003e aListOfInts = \u003cint\u003e[]; final aListOfBaseType = \u003cBaseType\u003e[SubType(), SubType()]; for(var i=0;i\u003cmyList.length;i++){ print(myList[i]); } myList.forEach((element) =\u003e print(element) ); //get iterator to the list var myListIter = myList.iterator; //iterate over the list while(myListIter.moveNext()){ print(myListIter.current); } ","date":"2022-04-04","objectID":"/cheatsheet/dart/:10:3","tags":null,"title":"Dart","uri":"/cheatsheet/dart/"},{"categories":null,"content":"Go lang ","date":"2022-04-04","objectID":"/cheatsheet/golang/:1:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Header package main import \"fmt\" ","date":"2022-04-04","objectID":"/cheatsheet/golang/:2:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Basic structure ","date":"2022-04-04","objectID":"/cheatsheet/golang/:3:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Simple declaration var msg string msg = \"Hello\" myNum := 5 var myFloatNum float32 := 5.99 const Phi = 1.618 ","date":"2022-04-04","objectID":"/cheatsheet/golang/:3:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Declare array var cars [5]string cars := [...]string{\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"} //Fix size slice := []int{2, 3, 4} //dynamic size var threedim [5][10][4]int a = [3][4]int{ {0, 1, 2, 3} , /* initializers for row indexed by 0 */ {4, 5, 6, 7} , /* initializers for row indexed by 1 */ {8, 9, 10, 11} /* initializers for row indexed by 2 */ } System.out.println(len(cars)) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:3:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Declare structure ","date":"2022-04-04","objectID":"/cheatsheet/golang/:3:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Enum type Season int64 const ( Summer Season = 0 Autumn = 1 Winter = 2 Spring = 3 ) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:3:4","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Control structure A code segment which show the following * Loop * If check null * Try catch * Import Library * Define a function * Declare a class package main import \"fmt\" type car struct { name string } func New(name string) car { e := car{name} return e } /* define a method for circle */ func(circle Circle) area() float64 { return math.Pi * circle.radius * circle.radius } func main() { //finally in java defer print(\"end\") //there is no try catch handling. //cannot be null, if null, make it a pointer cars := [...]string{\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"} for i := 1; i \u003c len(cars); i++ { var car string = cars[i] fmt.Println(\"Hello \" + car + \"!\") } } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:4:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"String ","date":"2022-04-04","objectID":"/cheatsheet/golang/:5:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Basic operation var greeting string = \"Hello\"; fmt.Println(fmt.Sprintf(\"The length of the txt string is: %d\", len(greeting)) ); fmt.Println(strings.ToUpper(greeting)); fmt.Println(strings.Index(greeting, \"ll\")) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:5:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Replace Str := \"Runoob\" fmt.Println(strings.Replace(Str, \"u\", \"D\", -1)); ","date":"2022-04-04","objectID":"/cheatsheet/golang/:5:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Concat and compare a := \"12\"+\"34\" result1 := str1 == str2 result5 := str1 != str2 result6 := str1 \u003e str2 strings.Compare(\"GeeksforGeeks\", \"GeeksforGeeks\") ","date":"2022-04-04","objectID":"/cheatsheet/golang/:5:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Regular expression import ( \"fmt\" \"regexp\" \"strings\" ) str := \"geeksforgeeks\" match1, err := regexp.MatchString(\"geeks\", str) fmt.Println(\"Match: \", match1, \" Error: \", err) re, _ := regexp.Compile(\"geek\") // string to be matched str := \"I love geeksforgeeks\" // returns the slice of first and last index match := re.FindStringIndex(str) fmt.Println(match) //[7 11] ","date":"2022-04-04","objectID":"/cheatsheet/golang/:5:4","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Array ","date":"2022-04-04","objectID":"/cheatsheet/golang/:6:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Basic operation, access of element cars := [...]string{\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"}; print (cars[0]); ","date":"2022-04-04","objectID":"/cheatsheet/golang/:6:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Traverse, sort for _, car := range cars { print(car); } import \"sort\" sort.Strings(arr[:]) //arr is array =\u003e arr[:] is a slice ","date":"2022-04-04","objectID":"/cheatsheet/golang/:6:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Date ","date":"2022-04-04","objectID":"/cheatsheet/golang/:7:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"New date import \"time\" t := time.Now() fmt.Println(t) //2009-11-10 23:00:00 +0000 UTC m=+0.000000001 t = time.Date(2021, time.Month(2), 21, 1, 10, 30, 0, time.UTC) rounded := time.Date(t.Year(), t.Month(), t.Day(), 0, 0, 0, 0, t.Location()) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:7:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Add days myDate.AddDate(0, 0, 2) //adding 2 days ","date":"2022-04-04","objectID":"/cheatsheet/golang/:7:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Compare date, diff date g1 := today.Before(tomorrow) g2 := tomorrow.After(today) today != tomorrow today == tomorrow ","date":"2022-04-04","objectID":"/cheatsheet/golang/:7:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Format date now := time.Now() fmt.Println(now.Format(\"2006-02-01\")) //reference time = Mon Jan 2 15:04:05 -0700 MST 2006 fmt.Println(now.Format(time.RFC822)) //02 Jan 06 15:04 MST fmt.Println(now.Format(time.Kitchen)) //3:04PM fmt.Println(now.Format(time.UnixDate)) //Mon Jan _2 15:04:05 MST 2006 ","date":"2022-04-04","objectID":"/cheatsheet/golang/:7:4","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"File ","date":"2022-04-04","objectID":"/cheatsheet/golang/:8:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Console read write reader := bufio.NewReader(os.Stdin) fmt.Println(\"Simple Shell\") fmt.Println(\"---------------------\") for { fmt.Print(\"-\u003e \") text, _ := reader.ReadString('\\n') // convert CRLF to LF text = strings.Replace(text, \"\\n\", \"\", -1) if strings.Compare(\"hi\", text) == 0 { fmt.Println(\"hello, Yourself\") } } reader := bufio.NewReader(os.Stdin) char, _, err := reader.ReadRune() //single character if err != nil { fmt.Println(err) } // print out the unicode value i.e. A -\u003e 65, a -\u003e 97 fmt.Println(char) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:8:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Read write line with UTF-8 import ( \"fmt\" \"io/ioutil\" ) func main() { // read in the contents of the localfile.data data, err := ioutil.ReadFile(\"localfile.data\") // if our program was unable to read the file // print out the reason why it can't if err != nil { fmt.Println(err) } // if it was successful in reading the file then // print out the contents as a string fmt.Print(string(data)) // the WriteFile method returns an error if unsuccessful err := ioutil.WriteFile(\"myfile.data\", mydata, 0777) // handle this error if err != nil { // print it out fmt.Println(err) } f, err := os.OpenFile(\"myfile.data\", os.O_APPEND|os.O_WRONLY, 0600) if err != nil { panic(err) } defer f.Close() } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:8:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"File system operation import ( \"bufio\" \"fmt\" \"os\" ) f, err := os.Create(\"/tmp/dat2\") check(err) err = os.MkdirAll(\"subdir/parent/child\", 0755) check(err) c, err := os.ReadDir(\"subdir/parent\") check(err) fmt.Println(\"Listing subdir/parent\") for _, entry := range c { fmt.Println(\" \", entry.Name(), entry.IsDir()) } err = os.Chdir(\"subdir/parent/child\") check(err) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:8:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Database ","date":"2022-04-04","objectID":"/cheatsheet/golang/:9:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Connection string list and open connection import ( \"database/sql\" \"fmt\" \"log\" \"os\" \"github.com/go-sql-driver/mysql\" ) var db *sql.DB func main() { // Capture connection properties. cfg := mysql.Config{ User: os.Getenv(\"DBUSER\"), Passwd: os.Getenv(\"DBPASS\"), Net: \"tcp\", Addr: \"127.0.0.1:3306\", DBName: \"recordings\", } // Get a database handle. var err error db, err = sql.Open(\"mysql\", cfg.FormatDSN()) if err != nil { log.Fatal(err) } pingErr := db.Ping() if pingErr != nil { log.Fatal(pingErr) } fmt.Println(\"Connected!\") } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:9:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Execute update/insert // addAlbum adds the specified album to the database, // returning the album ID of the new entry func addAlbum(alb Album) (int64, error) { result, err := db.Exec(\"INSERT INTO album (title, artist, price) VALUES (?, ?, ?)\", alb.Title, alb.Artist, alb.Price) if err != nil { return 0, fmt.Errorf(\"addAlbum: %v\", err) } id, err := result.LastInsertId() if err != nil { return 0, fmt.Errorf(\"addAlbum: %v\", err) } return id, nil } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:9:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Execute select and traverse dataset func albumsByArtist(name string) ([]Album, error) { // An albums slice to hold data from returned rows. var albums []Album rows, err := db.Query(\"SELECT * FROM album WHERE artist = ?\", name) if err != nil { return nil, fmt.Errorf(\"albumsByArtist %q: %v\", name, err) } defer rows.Close() // Loop through rows, using Scan to assign column data to struct fields. for rows.Next() { var alb Album if err := rows.Scan(\u0026alb.ID, \u0026alb.Title, \u0026alb.Artist, \u0026alb.Price); err != nil { return nil, fmt.Errorf(\"albumsByArtist %q: %v\", name, err) } albums = append(albums, alb) } if err := rows.Err(); err != nil { return nil, fmt.Errorf(\"albumsByArtist %q: %v\", name, err) } return albums, nil } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:9:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Popular format ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"CSV Read import ( \"encoding/csv\" \"fmt\" \"io\" \"log\" \"strings\" ) in := `first_name,last_name,username \"Rob\",\"Pike\",rob Ken,Thompson,ken \"Robert\",\"Griesemer\",\"gri\" ` r := csv.NewReader(strings.NewReader(in)) for { record, err := r.Read() if err == io.EOF { break } if err != nil { log.Fatal(err) } fmt.Println(record) } Write records := [][]string{ {\"first_name\", \"last_name\", \"username\"}, {\"Rob\", \"Pike\", \"rob\"}, {\"Ken\", \"Thompson\", \"ken\"}, {\"Robert\", \"Griesemer\", \"gri\"}, } w := csv.NewWriter(os.Stdout) for _, record := range records { if err := w.Write(record); err != nil { log.Fatalln(\"error writing record to csv:\", err) } } // Write any buffered data to the underlying writer (standard output). w.Flush() if err := w.Error(); err != nil { log.Fatal(err) } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"DOM / XML Read / Write and Traverse import ( \"encoding/xml\" \"fmt\" \"log\" \"strings\" ) type Plant struct { XMLName xml.Name `xml:\"plant\"` Id int `xml:\"id,attr\"` Name string `xml:\"name\"` Origin []string `xml:\"origin\"` } coffee := \u0026Plant{Id: 27, Name: \"Coffee\"} coffee.Origin = []string{\"Ethiopia\", \"Brazil\"} out, _ := xml.MarshalIndent(coffee, \" \", \" \") fmt.Println(string(out)) type Users struct { XMLName xml.Name `xml:\"users\"` Users []User `xml:\"user\"` } type User struct { XMLName xml.Name `xml:\"user\"` Type string `xml:\"type,attr\"` Name string `xml:\"name\"` Social Social `xml:\"social\"` } // read our opened xmlFile as a byte array. byteValue, _ := ioutil.ReadAll(xmlFile) // we initialize our Users array var users Users // we unmarshal our byteArray which contains our // xmlFiles content into 'users' which we defined above xml.Unmarshal(byteValue, \u0026users) for i := 0; i \u003c len(users.Users); i++ { fmt.Println(\"User Type: \" + users.Users[i].Type) fmt.Println(\"User Name: \" + users.Users[i].Name) fmt.Println(\"Facebook Url: \" + users.Users[i].Social.Facebook) } Select element import \"gopkg.in/xmlpath.v2\" path := xmlpath.MustCompile(\"/library/book/isbn\") root, err := xmlpath.Parse(file) if err != nil { log.Fatal(err) } if value, ok := path.String(root); ok { fmt.Println(\"Found:\", value) } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"JSON Read / Write import ( \"encoding/json\" \"fmt\" \"os\" ) type response2 struct { Page int `json:\"page\"` Fruits []string `json:\"fruits\"` } res2D := \u0026response2{ Page: 1, Fruits: []string{\"apple\", \"peach\", \"pear\"}} res2B, _ := json.Marshal(res2D) fmt.Println(string(res2B)) //{\"page\":1,\"fruits\":[\"apple\",\"peach\",\"pear\"]} type Users struct { Users []User `json:\"users\"` } // User struct which contains a name // a type and a list of social links type User struct { Name string `json:\"name\"` Type string `json:\"type\"` Age int `json:\"Age\"` Social Social `json:\"social\"` } // Open our jsonFile jsonFile, err := os.Open(\"users.json\") // if we os.Open returns an error then handle it if err != nil { fmt.Println(err) } fmt.Println(\"Successfully Opened users.json\") // defer the closing of our jsonFile so that we can parse it later on defer jsonFile.Close() // read our opened jsonFile as a byte array. byteValue, _ := ioutil.ReadAll(jsonFile) var users Users json.Unmarshal(byteValue, \u0026users) for i := 0; i \u003c len(users.Users); i++ { fmt.Println(\"User Type: \" + users.Users[i].Type) fmt.Println(\"User Age: \" + strconv.Itoa(users.Users[i].Age)) fmt.Println(\"User Name: \" + users.Users[i].Name) fmt.Println(\"Facebook Url: \" + users.Users[i].Social.Facebook) } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Yaml type T struct { A string B struct { RenamedC int `yaml:\"c\"` D []int `yaml:\",flow\"` } } t := T{} err := yaml.Unmarshal([]byte(data), \u0026t) if err != nil { log.Fatalf(\"error: %v\", err) } fmt.Printf(\"--- t:\\n%v\\n\\n\", t) d, err := yaml.Marshal(\u0026t) if err != nil { log.Fatalf(\"error: %v\", err) } fmt.Printf(\"--- t dump:\\n%s\\n\\n\", string(d)) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:4","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Web/API call Fetch http import ( \"io/ioutil\" \"log\" \"net/http\" ) resp, err := http.Get(\"https://jsonplaceholder.typicode.com/posts/1\") if err != nil { log.Fatalln(err) } Call api func main() { //Encode the data postBody, _ := json.Marshal(map[string]string{ \"name\": \"Toby\", \"email\": \"Toby@example.com\", }) responseBody := bytes.NewBuffer(postBody) //Leverage Go's HTTP Post function to make request resp, err := http.Post(\"https://postman-echo.com/post\", \"application/json\", responseBody) //Handle Error if err != nil { log.Fatalf(\"An Error Occured %v\", err) } defer resp.Body.Close() //Read the response body body, err := ioutil.ReadAll(resp.Body) if err != nil { log.Fatalln(err) } sb := string(body) log.Printf(sb) } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:10:5","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Advance structure / Popular structure ","date":"2022-04-04","objectID":"/cheatsheet/golang/:11:0","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Map ○ Declaration ○ Traverse ○ Common operation (add/remove/find) m := make(map[string]int) m[\"Dio\"] = 3 m[\"Jonathan\"] = 1 var id string var ok bool if x, found := res[\"strID\"]; found { if id, ok = x.(string); !ok { //do whatever you want to handle errors - this means this wasn't a string } } else { //handle error - the map didn't contain this key } for k, v := range m { fmt.Printf(\"key[%s] value[%s]\\n\", k, v) } _, ok := sessions[\"moo\"]; if ok { delete(sessions, \"moo\"); } ","date":"2022-04-04","objectID":"/cheatsheet/golang/:11:1","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Set //No set in golang, use map[string]bool instead ","date":"2022-04-04","objectID":"/cheatsheet/golang/:11:2","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"List import \"container/list\" l := list.New() // Initialize an empty list fmt.Println(l) // \u0026{{0x43e280 0x43e280 \u003cnil\u003e \u003cnil\u003e} 0} fmt.Println(l.Front()) // \u003cnil\u003e fmt.Println(l.Back()) // \u003cnil\u003e l.PushFront(10) fmt.Println(l.Front()) // \u0026{0x43e280 0x43e280 0x43e280 10} l.PushBackList(l2) //l2 is a list here l.Remove(v) ","date":"2022-04-04","objectID":"/cheatsheet/golang/:11:3","tags":null,"title":"Go","uri":"/cheatsheet/golang/"},{"categories":null,"content":"Java ","date":"2022-04-04","objectID":"/cheatsheet/java/:1:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Basic structure ","date":"2022-04-04","objectID":"/cheatsheet/java/:2:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Simple declaration int myNum = 5; // Integer (whole number) float myFloatNum = 5.99f; // Floating point number ","date":"2022-04-04","objectID":"/cheatsheet/java/:2:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Declare array String[] cars = new String[4]; String[] cars = {\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"}; int[][] myNumbers = { {1, 2, 3, 4}, {5, 6, 7} }; System.out.println(cars.length) ","date":"2022-04-04","objectID":"/cheatsheet/java/:2:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Declare structure public class Main { int x = 5; public static void main(String[] args) { Main myObj = new Main(); System.out.println(myObj.x); } } ","date":"2022-04-04","objectID":"/cheatsheet/java/:2:3","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Enum enum Level { LOW, MEDIUM, HIGH } ","date":"2022-04-04","objectID":"/cheatsheet/java/:2:4","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Control structure A code segment which show the following * Loop * If check null * Try catch * Import Library * Define a function * Declare a class import java.io.File; // Import the File class public class Main { public static void main(String[] args) { try{ String[] cars = [\"Volvo\", \"BMW\", \"Ford\", \"Mazda\", null]; for(int i=0; i\u003ccars.length; ++i){ String car = cars[i]; if(car == null) System.out.println(\"Hello Hell!\"); else System.out.println(\"Hello \" + car + \"!\"); } } catch(Exception ex){ } } } ","date":"2022-04-04","objectID":"/cheatsheet/java/:3:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"String ","date":"2022-04-04","objectID":"/cheatsheet/java/:4:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Basic operation String greeting = \"Hello\"; System.out.println(\"The length of the txt string is: \" + txt.length()); System.out.println(txt.toUpperCase()); System.out.println(txt.indexOf(\"locate\")); // Outputs 7 ","date":"2022-04-04","objectID":"/cheatsheet/java/:4:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Replace String Str = new String(\"Runoob\"); System.out.println(Str.replace('u', 'D')); ","date":"2022-04-04","objectID":"/cheatsheet/java/:4:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Concat and compare \"12\".compareTo(\"34\") String a = \"12\"+\"34\" ","date":"2022-04-04","objectID":"/cheatsheet/java/:4:3","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Regular expression import java.util.regex.Matcher; import java.util.regex.Pattern; Pattern pattern = Pattern.compile(\"w3schools\", Pattern.CASE_INSENSITIVE); Matcher matcher = pattern.matcher(\"Visit W3Schools!\"); boolean matchFound = matcher.find(); if(matchFound) { System.out.println(\"Match found\"); } else { System.out.println(\"Match not found\"); } ","date":"2022-04-04","objectID":"/cheatsheet/java/:4:4","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Array ","date":"2022-04-04","objectID":"/cheatsheet/java/:5:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Basic operation, access of element String[] cars = {\"Volvo\", \"BMW\", \"Ford\", \"Mazda\"}; System.out.println(cars[0]); ","date":"2022-04-04","objectID":"/cheatsheet/java/:5:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Traverse, sort for (String i : cars) { System.out.println(i); } Arrays.sort(cars); ","date":"2022-04-04","objectID":"/cheatsheet/java/:5:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Date Java 8 new library java.time similar to Joda time ","date":"2022-04-04","objectID":"/cheatsheet/java/:6:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"New date import java.time.LocalDate; // import the LocalDate class LocalDate localDate = LocalDate.now(); // Create a date object LocalDate localDate = LocalDate.of(2017, 06, 22); System.out.println(localDate); // Display the current date LocalDate localDate = LocalDate.getLocalDate(); ","date":"2022-04-04","objectID":"/cheatsheet/java/:6:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Add days LocalDate tomorrow = today.plusDays(1); ","date":"2022-04-04","objectID":"/cheatsheet/java/:6:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Compare date, diff date if(todayDate.after(historyDate) \u0026\u0026 todayDate.before(futureDate)) { // In between } ","date":"2022-04-04","objectID":"/cheatsheet/java/:6:3","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Format date System.out.println(myDateObj); DateTimeFormatter myFormatObj = DateTimeFormatter.ofPattern(\"dd-MM-yyyy HH:mm:ss\"); String formattedDate = myDateObj.format(myFormatObj); System.out.println(\"After formatting: \" + formattedDate); ","date":"2022-04-04","objectID":"/cheatsheet/java/:6:4","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"File ","date":"2022-04-04","objectID":"/cheatsheet/java/:7:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Console read write //read BufferedReader reader = new BufferedReader(new InputStreamReader(System.in)); String name = reader.readLine(); //write System.out.println(name); ","date":"2022-04-04","objectID":"/cheatsheet/java/:7:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Read write line with UTF-8 import java.io.File; // Import the File class File myObj = new File(\"filename.txt\"); // Specify the filename myObj.createNewFile() //return true if can create //read try { File myObj = new File(\"filename.txt\", \"UTF-8\")); Scanner myReader = new Scanner(myObj); while (myReader.hasNextLine()) { String data = myReader.nextLine(); System.out.println(data); } myReader.close(); } catch (FileNotFoundException e) { System.out.println(\"An error occurred.\"); e.printStackTrace(); } //write try { //Writer fstream = new OutputStreamWriter(new FileOutputStream(mergedFile), StandardCharsets.UTF_8); FileWriter myWriter = new FileWriter(\"filename.txt\", \"UTF-8\")); myWriter.write(\"Files in Java might be tricky, but it is fun enough!\"); myWriter.close(); System.out.println(\"Successfully wrote to the file.\"); } catch (IOException e) { System.out.println(\"An error occurred.\"); e.printStackTrace(); } ","date":"2022-04-04","objectID":"/cheatsheet/java/:7:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Database ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Connection string list \"jdbc:oracle:thin:username/password@amrood:1521:EMP\" ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Open connection import java.sql.* ; // for standard JDBC programs import java.math.* ; // for BigDecimal and BigInteger support try { Class.forName(\"oracle.jdbc.driver.OracleDriver\").newInstance(); String URL = \"jdbc:oracle:thin:username/password@amrood:1521:EMP\"; Connection conn = DriverManager.getConnection(URL); } catch(ClassNotFoundException ex) { System.out.println(\"Error: unable to load driver class!\"); System.exit(1); catch(IllegalAccessException ex) { System.out.println(\"Error: access problem while loading!\"); System.exit(2); catch(InstantiationException ex) { System.out.println(\"Error: unable to instantiate driver!\"); System.exit(3); } ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Execute update/insert sql = \"INSERT INTO Registration \" + \"VALUES(?, ?, ?, ?)\"; PreparedStatement updateRegistration = con.prepareStatement(sql) updateRegistration.setInt(1, 103); updateRegistration.setString(2, 'Sumit'); updateRegistration.setString(3, 'Mittal'); updateRegistration.setString(4, 28); updateRegistration.executeUpdate(); System.out.println(\"Inserted records into the table...\"); ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:3","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Execute select //STEP 4: Execute a query System.out.println(\"Creating statement...\"); stmt = conn.createStatement(); String sql; sql = \"SELECT id, first, last, age FROM Employees\"; ResultSet rs = stmt.executeQuery(sql); ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:4","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Traverse the dataset //STEP 5: Extract data from result set while(rs.next()){ //Retrieve by column name int id = rs.getInt(\"id\"); int age = rs.getInt(\"age\"); String first = rs.getString(\"first\"); String last = rs.getString(\"last\"); //Display values System.out.print(\"ID: \" + id); System.out.print(\", Age: \" + age); System.out.print(\", First: \" + first); System.out.println(\", Last: \" + last); } //STEP 6: Clean-up environment rs.close(); stmt.close(); conn.close(); ","date":"2022-04-04","objectID":"/cheatsheet/java/:8:5","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Popular format ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"CSV compile group: 'com.opencsv', name: 'opencsv', version: '4.1' Read CSVReader csvReader = new CSVReader(filereader); String[] nextRecord; // we are going to read data line by line while ((nextRecord = csvReader.readNext()) != null) { for (String cell : nextRecord) { System.out.print(cell + \"\\t\"); } System.out.println(); } // Create an object of file reader class with CSV file as a parameter. FileReader filereader = new FileReader(file); // create csvParser object with // custom seperator semi-colon CSVParser parser = new CSVParserBuilder().withSeparator(';').build(); // create csvReader object with parameter // filereader and parser CSVReader csvReader = new CSVReaderBuilder(filereader) .withCSVParser(parser) .build(); // Read all data at once List\u003cString[]\u003e allData = csvReader.readAll(); Write CSVWriter writer = new CSVWriter(new FileWriter(path.toString())); for (String[] array : stringArray) { writer.writeNext(array); } writer.close(); ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:1","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"DOM / XML Java 9 need dependency on javax.xml.bind:jaxb-api:2.3.0 Read / Write import java.io.File; import javax.xml.parsers.DocumentBuilderFactory; import javax.xml.parsers.DocumentBuilder; import org.w3c.dom.Document; import org.w3c.dom.NodeList; import org.w3c.dom.Node; import org.w3c.dom.Element; public class DomParserDemo { public static void main(String[] args){ try { File inputFile = new File(\"input.txt\"); DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder dBuilder = dbFactory.newDocumentBuilder(); Document doc = dBuilder.parse(inputFile); doc.getDocumentElement().normalize(); System.out.println(\"Root element :\" + doc.getDocumentElement().getNodeName()); NodeList nList = doc.getElementsByTagName(\"student\"); System.out.println(\"----------------------------\"); for (int temp = 0; temp \u003c nList.getLength(); temp++) { Node nNode = nList.item(temp); System.out.println(\"\\nCurrent Element :\" + nNode.getNodeName()); if (nNode.getNodeType() == Node.ELEMENT_NODE) { Element eElement = (Element) nNode; System.out.println(\"Student roll no : \" + eElement.getAttribute(\"rollno\")); System.out.println(\"First Name : \" + eElement .getElementsByTagName(\"firstname\") .item(0) .getTextContent()); System.out.println(\"Last Name : \" + eElement .getElementsByTagName(\"lastname\") .item(0) .getTextContent()); System.out.println(\"Nick Name : \" + eElement .getElementsByTagName(\"nickname\") .item(0) .getTextContent()); System.out.println(\"Marks : \" + eElement .getElementsByTagName(\"marks\") .item(0) .getTextContent()); } } } catch (Exception e) { e.printStackTrace(); } } } Write XML public class CreateXMLFileJava { public static final String xmlFilePath = \"C:\\\\Users\\\\nikos7\\\\Desktop\\\\files\\\\xmlfile.xml\"; public static void main(String argv[]) { try { DocumentBuilderFactory documentFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder documentBuilder = documentFactory.newDocumentBuilder(); Document document = documentBuilder.newDocument(); // root element Element root = document.createElement(\"company\"); document.appendChild(root); // employee element Element employee = document.createElement(\"employee\"); root.appendChild(employee); // set an attribute to staff element Attr attr = document.createAttribute(\"id\"); attr.setValue(\"10\"); employee.setAttributeNode(attr); //you can also use staff.setAttribute(\"id\", \"1\") for this // firstname element Element firstName = document.createElement(\"firstname\"); firstName.appendChild(document.createTextNode(\"James\")); employee.appendChild(firstName); // lastname element Element lastname = document.createElement(\"lastname\"); lastname.appendChild(document.createTextNode(\"Harley\")); employee.appendChild(lastname); // email element Element email = document.createElement(\"email\"); email.appendChild(document.createTextNode(\"james@example.org\")); employee.appendChild(email); // department elements Element department = document.createElement(\"department\"); department.appendChild(document.createTextNode(\"Human Resources\")); employee.appendChild(department); // create the xml file //transform the DOM Object to an XML File TransformerFactory transformerFactory = TransformerFactory.newInstance(); Transformer transformer = transformerFactory.newTransformer(); DOMSource domSource = new DOMSource(document); StreamResult streamResult = new StreamResult(new File(xmlFilePath)); // If you use // StreamResult result = new StreamResult(System.out); // the output will be pushed to the standard output ... // You can use that for debugging transformer.transform(domSource, streamResult); System.out.println(\"Done creating XML File\"); } catch (ParserConfigurationException pce) { pce.printStackTrace(); } catch (TransformerException tfe) { tfe.printStackTrace(); } } } ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:2","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"JSON \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba\u003c/groupId\u003e \u003cartifactId\u003efastjson\u003c/artifactId\u003e \u003cversion\u003e1.2.47\u003c/version\u003e \u003c/dependency\u003e Read JSONObject object = new JSONObject(); //string object.put(\"string\",\"string\"); //int object.put(\"int\",2); //boolean object.put(\"boolean\",true); //array List\u003cInteger\u003e integers = Arrays.asList(1,2,3); object.put(\"list\",integers); //null object.put(\"null\",null); ​ System.out.println(object); Write JSONObject object = JSONObject .parseObject(\"{\\\"boolean\\\":true,\\\"string\\\":\\\"string\\\",\\\"list\\\":[1,2,3],\\\"int\\\":2}\"); //string String s = object.getString(\"string\"); System.out.println(s); //int int i = object.getIntValue(\"int\"); System.out.println(i); //boolean boolean b = object.getBooleanValue(\"boolean\"); System.out.println(b); //list List\u003cInteger\u003e integers = JSON.parseArray(object.getJSONArray(\"list\").toJSONString(),Integer.class); integers.forEach(System.out::println); //null System.out.println(object.getString(\"null\")); //从字符串解析JSON对象 JSONObject obj = JSON.parseObject(\"{\\\"runoob\\\":\\\"菜鸟教程\\\"}\"); //从字符串解析JSON数组 JSONArray arr = JSON.parseArray(\"[\\\"菜鸟教程\\\",\\\"RUNOOB\\\"]\\n\"); ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:3","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Yaml public class Order { private String orderNo; private LocalDate date; private String customerName; private List\u003cOrderLine\u003e orderLines; // Constructors, Getters, Setters and toString } public class OrderLine { private String item; private int quantity; private BigDecimal unitPrice; // Constructors, Getters, Setters and toString } //install package jackson-dataformat-yaml mapper = new ObjectMapper(new YAMLFactory()); mapper.findAndRegisterModules(); //handle date property?? Order order = mapper.readValue(new File(\"src/main/resources/orderInput.yaml\"), Order.class); ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:4","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Web/API call Fetch http public class ParameterStringBuilder { public static String getParamsString(Map\u003cString, String\u003e params) throws UnsupportedEncodingException{ StringBuilder result = new StringBuilder(); for (Map.Entry\u003cString, String\u003e entry : params.entrySet()) { result.append(URLEncoder.encode(entry.getKey(), \"UTF-8\")); result.append(\"=\"); result.append(URLEncoder.encode(entry.getValue(), \"UTF-8\")); result.append(\"\u0026\"); } String resultString = result.toString(); return resultString.length() \u003e 0 ? resultString.substring(0, resultString.length() - 1) : resultString; } } URL url = new URL(\"http://example.com\"); HttpURLConnection con = (HttpURLConnection) url.openConnection(); con.setRequestMethod(\"GET\"); Map\u003cString, String\u003e parameters = new HashMap\u003c\u003e(); parameters.put(\"param1\", \"val\"); con.setDoOutput(true); DataOutputStream out = new DataOutputStream(con.getOutputStream()); out.writeBytes(ParameterStringBuilder.getParamsString(parameters)); out.flush(); out.close(); //set con.setRequestProperty(\"Content-Type\", \"application/json\") //read String contentType = con.getHeaderField(\"Content-Type\"); String cookiesHeader = con.getHeaderField(\"Set-Cookie\"); List\u003cHttpCookie\u003e cookies = HttpCookie.parse(cookiesHeader); Optional\u003cHttpCookie\u003e usernameCookie = cookies.stream() .findAny().filter(cookie -\u003e cookie.getName().equals(\"username\")); if (usernameCookie == null) { cookieManager.getCookieStore().add(null, new HttpCookie(\"username\", \"john\")); } con.disconnect(); con = (HttpURLConnection) url.openConnection(); con.setRequestProperty(\"Cookie\", StringUtils.join(cookieManager.getCookieStore().getCookies(), \";\")); //redirect con.setInstanceFollowRedirects(false); HttpUrlConnection.setFollowRedirects(false); //read int status = con.getResponseCode(); BufferedReader in = new BufferedReader( new InputStreamReader(con.getInputStream())); String inputLine; StringBuffer content = new StringBuffer(); while ((inputLine = in.readLine()) != null) { content.append(inputLine); } in.close(); int status = con.getResponseCode(); Reader streamReader = null; if (status \u003e 299) { streamReader = new InputStreamReader(con.getErrorStream()); } else { streamReader = new InputStreamReader(con.getInputStream()); } Call api Apache HTTP Components HttpClient httpclient = HttpClients.createDefault(); HttpPost httppost = new HttpPost(\"http://www.a-domain.com/foo/\"); // Request parameters and other properties. List\u003cNameValuePair\u003e params = new ArrayList\u003cNameValuePair\u003e(2); params.add(new BasicNameValuePair(\"param-1\", \"12345\")); params.add(new BasicNameValuePair(\"param-2\", \"Hello!\")); httppost.setEntity(new UrlEncodedFormEntity(params, \"UTF-8\")); //Execute and get the response. HttpResponse response = httpclient.execute(httppost); HttpEntity entity = response.getEntity(); if (entity != null) { try (InputStream instream = entity.getContent()) { // do something useful } } ","date":"2022-04-04","objectID":"/cheatsheet/java/:9:5","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Advance structure / Popular structure // Map HashMap\u003cString, Integer\u003e people = new HashMap\u003cString, Integer\u003e(); people.put(\"John\", 32); people.put(\"Steve\", 30); people.put(\"Angie\", 33); //immutable Map\u003cString, String\u003e map = Map.of(\"key1\",\"value1\", \"key2\", \"value2\"); // Set HashSet\u003cString\u003e cars = new HashSet\u003cString\u003e(); //immutable Set\u003cString\u003e strSet = Set.of(\"Apple\", \"Ball\", \"Cat\", \"Dog\"); // ArrayList ArrayList\u003cString\u003e cars = new ArrayList\u003cString\u003e(); ","date":"2022-04-04","objectID":"/cheatsheet/java/:10:0","tags":null,"title":"Java","uri":"/cheatsheet/java/"},{"categories":null,"content":"Javascript ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:1:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Basic structure ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:2:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Simple declaration var x = 5; const PI = 3.141592653589793; let x = 2; ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:2:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Declare array var cars = [] var cars = [\"Saab\", \"Volvo\", \"BMW\"]; var arr_length = cars.length; ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:2:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Declare structure class Car { constructor(name, year) { this.name = name; this.year = year; } } let myCar1 = new Car(\"Ford\", 2014); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:2:3","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Enum No such thing ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:2:4","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Control structure const component = require('component') //runtime import component2 from \"component2\"; //compile time ES6 try { var cars = [\"Volvo\", \"BMW\", \"Ford\", \"Mazda\", null]; for(var i=0; i\u003ccars.length; ++i){ let car = cars[i]; if(car === null) console.log(\"Hello Hell!\"); else console.log(\"Hello \" + car + \"!\"); } } catch(err) { //document.getElementById(\"demo\").innerHTML = err.message; console.error(err.message); } ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:3:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"String ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:4:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Basic operation var greeting = \"Hello\"; var len = txt.Length var upper = greeting.toUpperCase() var trim = banner.trim(); var isOK = test.startsWith(\"\u003c\") var pos = \"test: enabled\".indexOf(\": \"); var substr1 = \"Hello world!\".substr(1, 4); //'ello' var substr2 = \"Hello world!\".substring(1, 4); // 'ell' var masked = last4Digits.padStart(fullNumber.length, '*'); var intVal = \"1\".valueOf(); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:4:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Replace var x =\"Visit Microsoft!\".replace(\"Microsoft\", \"W3Schools\"); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:4:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Concat and compare var name = firstName.concat(lastName); var x = \"2\" \u003e \"12\"; //true var y = 2 \u003c \"12\" //true ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:4:3","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Array ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:5:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Basic operation, access of element var cars = [\"Saab\", \"Volvo\", \"BMW\"]; document.getElementById(\"demo\").innerHTML = cars[0]; cars.push(\"Tesla\") cars.concat([\"Xiapeng, Biadi\"]]) var text = \"hi: \" var numbers = [45, 4, 9, 16, 25]; numbers.forEach(value =\u003e {return txt = txt+ value + \"\u003cbr/\u003e\";} ); var numberSq = numbers.map(value =\u003e {return value * 2;} ); var filtered = numbers.filter((value, index, array) =\u003e {return value \u003e 18;} ); var a = fruits.indexOf(\"Apple\"); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:5:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Traverse, sort var fruits = [\"Banana\", \"Orange\", \"Apple\", \"Mango\"]; fruits.sort(); // Sorts the elements of fruits ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:5:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Date ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:6:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"New date var d = new Date(); var d = new Date(2018, 11, 24, 10); d.setHours(0, 0, 0, 0); //to get only date ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:6:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Add days var date = new Date(); console.log(date.addDays(5)); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:6:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Compare date, diff date if (date1\u003edate2) return (\"Date1 \u003e Date2\"); else if (date1\u003cdate2) return (\"Date2 \u003e Date1\"); else return (\"Date1 = Date2\"); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:6:3","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Format date d.toString(); //Wed Mar 25 2015 08:00:00 GMT+0800 (台北標準時間) d.toDateString(); //Sat Dec 05 2020 d.toISOString(); //\"2015-03-25\" var dateFormat = require('dateformat'); var now = new Date(); dateFormat(now, \"dddd, mmmm dS, yyyy, h:MM:ss TT\"); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:6:4","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"File ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:7:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Console read write console.log(\"Hello World!\"); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:7:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Read write line with UTF-8 \u003c!-- The `multiple` attribute lets users select multiple files. --\u003e \u003cinput type=\"file\" id=\"file-selector\" multiple\u003e \u003cscript\u003e const fileSelector = document.getElementById('file-selector'); fileSelector.addEventListener('change', (event) =\u003e { const fileList = event.target.files; console.log(fileList); }); \u003c/script\u003e //File reader const reader = new FileReader(); reader.addEventListener('load', (event) =\u003e { img.src = event.target.result; }); reader.readAsDataURL(file); //fetch api fetch('file.txt') .then(response =\u003e response.text()) .then(text =\u003e console.log(text)) ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:7:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Database - MySQL ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Connection string list Install package instead of a common interface. ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Open connection var mysql = require('mysql'); var con = mysql.createConnection({ host: \"localhost\", user: \"yourusername\", password: \"yourpassword\" }); con.connect(function(err) { if (err) throw err; console.log(\"Connected!\"); }); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Execute update/insert con.connect(function(err) { if (err) throw err; console.log(\"Connected!\"); var sql = \"INSERT INTO customers (name, address) VALUES ('Company Inc', 'Highway 37')\"; con.query(sql, function (err, result) { if (err) throw err; console.log(\"1 record inserted\"); }); }); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:3","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Execute select con.connect(function(err) { if (err) throw err; con.query(\"SELECT * FROM customers\", function (err, result, fields) { if (err) throw err; console.log(result); }); }); /* [ { id: 1, name: 'John', address: 'Highway 71'}, { id: 2, name: 'Peter', address: 'Lowstreet 4'}, { id: 3, name: 'Amy', address: 'Apple st 652'}, ... ] */ ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:4","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Traverse the dataset Traverse as json object ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:8:5","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Popular format ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"CSV Use a library call Papa parser https://www.papaparse.com/ Read var data = Papa.parse(csv); //csv as string // Parse local CSV file Papa.parse(file, { complete: function(results) { console.log(\"Finished:\", results.data); } }); Write var csv = Papa.unparse(data); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:1","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"DOM / XML Read / Write text = \"\u003cbookstore\u003e\u003cbook\u003e\" + \"\u003ctitle\u003eEveryday Italian\u003c/title\u003e\" + \"\u003cauthor\u003eGiada De Laurentiis\u003c/author\u003e\" + \"\u003cyear\u003e2005\u003c/year\u003e\" + \"\u003c/book\u003e\u003c/bookstore\u003e\"; parser = new DOMParser(); xmlDoc = parser.parseFromString(text,\"text/xml\"); var a = xmlDoc.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue; Write Skip for the time being Traverse const names = xml.getElementsByTagName(\"name\"); for (var i = 0; i \u003c names.length; i++) { var name = names[i].firstChild.nodeValue; var div = document.createElement(\"div\"); var textNode = document.createTextNode(name); div.appendChild(textNode); document.getElementById(\"wrapper\").appendChild(div); } Select element //XPath var nodes = xml.evaluate(\"/bookstore/book[price\u003e35]/title\", xml, null, XPathResult.ANY_TYPE, null); var result = nodes.iterateNext(); while (result) { txt += result.childNodes[0].nodeValue + \"\u003cbr\u003e\"; result = nodes.iterateNext(); } ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:2","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"JSON Read / Write var obj = JSON.parse('{ \"name\":\"John\", \"age\":30, \"city\":\"New York\"}'); Write var obj = { name: \"John\", age: 30, city: \"New York\" }; var myJSON = JSON.stringify(obj); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:3","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Yaml //install package js-yaml const yaml = require('js-yaml'); const fs = require('fs'); try { const doc = yaml.load(fs.readFileSync('/home/ixti/example.yml', 'utf8')); console.log(doc); } catch (e) { console.log(e); } //write dump(object, { 'styles': { '!!null': 'canonical' // dump null as ~ }, 'sortKeys': true // sort object keys }); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:4","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Web/API call Axios: https://github.com/axios/axios Fetch http //no cookie //further info:https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch fetch('http://example.com/movies.json') .then(response =\u003e response.json()) .then(data =\u003e console.log(data)); Call api //https://github.com/axios/axios const axios = require('axios'); // Make a request for a user with a given ID axios.get('/user?ID=12345') .then(function (response) { // handle success console.log(response); }) .catch(function (error) { // handle error console.log(error); }) .then(function () { // always executed }); ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:9:5","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"Advance structure / Popular structure //map var mapObj = {\"one\":1,\"two\":2,\"three\":3} //record var record = {firstName:\"Tom\",lastName:\"Smith\"} //json table var persons = {}; persons[\"2901465\"] = {id: 2901465, name:\"Tom\"}; persons[\"3305579\"] = {id: 3305579, name:\"Su\"}; persons[\"6492003\"] = {id: 6492003, name:\"Pete\"}; try { localStorage[\"personTable\"] = JSON.stringify( persons); } catch (e) { alert(\"Error when writing to Local Storage\\n\" + e); } ","date":"2022-04-04","objectID":"/cheatsheet/javascript/:10:0","tags":null,"title":"Javascript","uri":"/cheatsheet/javascript/"},{"categories":null,"content":"K8s ","date":"2022-04-04","objectID":"/cheatsheet/k8s/:1:0","tags":null,"title":"K8S","uri":"/cheatsheet/k8s/"},{"categories":null,"content":"Basic admin See k8s dashboard kubectl proxy ssh -L 8001:localhost:8001 ubuntu@192.168.100.21 Find the token for login k8s console kubectl -n kubernetes-dashboard get secret $(kubectl -n kubernetes-dashboard get sa/admin-user -o jsonpath=\"{.secrets[0].name}\") -o go-template=\"{{.data.token | base64decode}}\" ","date":"2022-04-04","objectID":"/cheatsheet/k8s/:2:0","tags":null,"title":"K8S","uri":"/cheatsheet/k8s/"},{"categories":null,"content":"Cert manager Cert manager automatically renew. https://cert-manager.io/docs/usage/certificate/ ","date":"2022-04-04","objectID":"/cheatsheet/k8s/:3:0","tags":null,"title":"K8S","uri":"/cheatsheet/k8s/"},{"categories":null,"content":"Ingress For exporting stuff ","date":"2022-04-04","objectID":"/cheatsheet/k8s/:3:1","tags":null,"title":"K8S","uri":"/cheatsheet/k8s/"},{"categories":null,"content":"Cheatsheet https://kubernetes.io/docs/reference/kubectl/cheatsheet/ ","date":"2022-04-04","objectID":"/cheatsheet/k8s/:3:2","tags":null,"title":"K8S","uri":"/cheatsheet/k8s/"},{"categories":null,"content":"Python ","date":"2022-04-04","objectID":"/cheatsheet/python/:1:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Basic structure ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Simple declaration x = 5 y = \"John\" p1 = MyClass() print(p1.x) ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Declare array cars = [\"Ford\", \"Volvo\", \"BMW\"] x = len(cars) ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Declare structure class Person: def __init__(self, name, age): self.name = name self.age = age def myfunc(self): print(\"Hello my name is \" + self.name) ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Lambda x = lambda a, b : a * b ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:4","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Enum from enum import Enum class Color(Enum): RED = 1 GREEN = 2 BLUE = 3 ","date":"2022-04-04","objectID":"/cheatsheet/python/:2:5","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Control structure A code segment which show the following * Loop * If check null * Try catch * Import Library * Define a function * Declare a class from sample_module import sample_func import traceback def main(): try: cars = [\"Volvo\", \"BMW\", \"Ford\", \"Mazda\", None] for i in range(len(cars)): car = cars[i] if car is None: print(\"Hello Hell!\") else print(\"Hello \" + car + \"!\") except NameError: print(\"Variable x is not defined\") except Exception as e: print(\"Something else went wrong\", e.__class__) traceback.print_exception(*sys.exc_info()) if __name__ == '__main__': main() # 或是任何你想執行的函式 ","date":"2022-04-04","objectID":"/cheatsheet/python/:3:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"String ","date":"2022-04-04","objectID":"/cheatsheet/python/:4:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Basic operation a = \"\"\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"\"\" print(a[1]) print(a[2:5]) if \"free\" in txt: print(\"Yes, 'free' is present.\") a.upper() a.strip() # escape character is \\ ","date":"2022-04-04","objectID":"/cheatsheet/python/:4:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Replace a = \"Hello, World!\" a.replace(\"H\", \"J\") a.split(\",\") ","date":"2022-04-04","objectID":"/cheatsheet/python/:4:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Concat and compare = \"Hello\" b = \"World\" c = a + b ","date":"2022-04-04","objectID":"/cheatsheet/python/:4:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Regular expression import re txt = \"The rain in Spain\" x = re.search(\"\\s\", txt) print(\"The first white-space character is located in position:\", x.start()) //None if not found ","date":"2022-04-04","objectID":"/cheatsheet/python/:4:4","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Array ","date":"2022-04-04","objectID":"/cheatsheet/python/:5:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Basic operation, access of element thislist = [\"apple\", \"banana\", \"cherry\"] tropical = [\"mango\", \"pineapple\", \"papaya\"] print(len(thislist)) print(thislist[2:5]) thislist[1:3] = [\"watermelon\"] thislist.append(\"orange\") thislist.insert(1, \"orange\") thislist.remove(\"banana\") thislist.pop() thislist.clear() thislist.extend(tropical) ","date":"2022-04-04","objectID":"/cheatsheet/python/:5:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Traverse, sort thislist = [\"apple\", \"banana\", \"cherry\"] for x in thislist: print(x) newlist = [x for x in fruits if \"a\" in x] thislist.sort() ","date":"2022-04-04","objectID":"/cheatsheet/python/:5:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Date ","date":"2022-04-04","objectID":"/cheatsheet/python/:6:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"New date import datetime x = datetime.datetime.now() x = datetime.datetime(2020, 5, 17) print(x) print(x.date()) #only return date part ","date":"2022-04-04","objectID":"/cheatsheet/python/:6:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Add days end_date = date_1 + datetime.timedelta(days=10) import pandas as pd startdate = \"10/10/2011\" enddate = pd.to_datetime(startdate) + pd.DateOffset(days=5) ","date":"2022-04-04","objectID":"/cheatsheet/python/:6:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Compare date, diff date # date in yyyy/mm/dd format d1 = datetime.datetime(2018, 5, 3) d2 = datetime.datetime(2018, 6, 1) print(\"d1 is less than d2 : \", d1 \u003c d2) ","date":"2022-04-04","objectID":"/cheatsheet/python/:6:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Format date print(x.strftime(\"%B\")) print(x.strftime(\"%b %d%Y %H:%M:%S\")) # %b is month in text %m is number %H datetime.datetime.strptime('Mon Feb 15 2010', '%a%b %d%Y').strftime('%d/%m/%Y') ","date":"2022-04-04","objectID":"/cheatsheet/python/:6:4","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"File ","date":"2022-04-04","objectID":"/cheatsheet/python/:7:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Console read write # input input1 = input() # output print(input1) ","date":"2022-04-04","objectID":"/cheatsheet/python/:7:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Read write line with UTF-8 # a = append and w = write f = open(\"demofile.txt\", \"r\", encoding='UTF-8') # read print(f.readline()) content = f.read() # write f.write(\"Woops! I have deleted the content!\") f.close() ","date":"2022-04-04","objectID":"/cheatsheet/python/:7:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"File system operation import os if os.path.exists(\"demofile.txt\"): os.remove(\"demofile.txt\") else: print(\"The file does not exist\") os.rmdir(\"myfolder\") fileAndDir = listdir(mypath) ","date":"2022-04-04","objectID":"/cheatsheet/python/:7:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Database ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Connection string list ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Open connection import mysql.connector mydb = mysql.connector.connect( host=\"localhost\", user=\"yourusername\", password=\"yourpassword\" ) mycursor = mydb.cursor() ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Execute update/insert mycursor = mydb.cursor() sql = \"INSERT INTO customers (name, address) VALUES (%s, %s)\" val = (\"John\", \"Highway 21\") mycursor.execute(sql, val) mydb.commit() print(mycursor.rowcount, \"record inserted.\") ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Execute select mycursor = mydb.cursor() mycursor.execute(\"SELECT * FROM customers\") myresult = mycursor.fetchall() ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:4","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Traverse the dataset for x in myresult: print(x) ","date":"2022-04-04","objectID":"/cheatsheet/python/:8:5","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Popular format ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"CSV Read import csv # 開啟 CSV 檔案 with open('iris.csv', newline='') as csvfile: # 讀取 CSV 檔案內容 rows = csv.reader(csvfile) # 以迴圈輸出每一列 for row in rows: print(row) Write import csv # 開啟輸出的 CSV 檔案 with open('output.csv', 'w', newline='') as csvfile: # 建立 CSV 檔寫入器 writer = csv.writer(csvfile) # 寫入一列資料 writer.writerow(['姓名', '身高', '體重']) # 寫入另外幾列資料 writer.writerow(['令狐沖', 175, 60]) writer.writerow(['岳靈珊', 165, 57]) with open('output.csv', 'w', newline='') as csvfile: # 定義欄位 fieldnames = ['姓名', '身高', '體重'] # 將 dictionary 寫入 CSV 檔 writer = csv.DictWriter(csvfile, fieldnames=fieldnames) # 寫入第一列的欄位名稱 writer.writeheader() # 寫入資料 writer.writerow({'姓名': '令狐沖', '身高': 175, '體重': 60}) writer.writerow({'姓名': '岳靈珊', '身高': 165, '體重': 57}) ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"DOM / XML \u003ccollection shelf=\"New Arrivals\"\u003e \u003cmovie title=\"Enemy Behind\"\u003e \u003ctype\u003eWar, Thriller\u003c/type\u003e \u003cformat\u003eDVD\u003c/format\u003e \u003cyear\u003e2003\u003c/year\u003e \u003crating\u003ePG\u003c/rating\u003e \u003cstars\u003e10\u003c/stars\u003e \u003cdescription\u003eTalk about a US-Japan war\u003c/description\u003e \u003c/movie\u003e ... \u003c/collection\u003e Read from xml.dom.minidom import parse import xml.dom.minidom # 使用minidom解析器打开 XML 文档 DOMTree = xml.dom.minidom.parse(\"movies.xml\") collection = DOMTree.documentElement if collection.hasAttribute(\"shelf\"): print \"Root element : %s\" % collection.getAttribute(\"shelf\") Select element # 在集合中获取所有电影 movies = collection.getElementsByTagName(\"movie\") Traverse # 打印每部电影的详细信息 for movie in movies: print \"*****Movie*****\" if movie.hasAttribute(\"title\"): print \"Title: %s\" % movie.getAttribute(\"title\") type = movie.getElementsByTagName('type')[0] print \"Type: %s\" % type.childNodes[0].data format = movie.getElementsByTagName('format')[0] print \"Format: %s\" % format.childNodes[0].data rating = movie.getElementsByTagName('rating')[0] print \"Rating: %s\" % rating.childNodes[0].data description = movie.getElementsByTagName('description')[0] print \"Description: %s\" % description.childNodes[0].data Write import xml.etree.ElementTree as ET # create the file structure data = ET.Element('data') items = ET.SubElement(data, 'items') item1 = ET.SubElement(items, 'item') item2 = ET.SubElement(items, 'item') item1.set('name','item1') item2.set('name','item2') item1.text = 'item1abc' item2.text = 'item2abc' # create a new XML file with the results mydata = ET.tostring(data) myfile = open(\"items2.xml\", \"w\") myfile.write(mydata) ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"JSON Read / Write import json data = [ { 'a' : 1, 'b' : 2, 'c' : 3, 'd' : 4, 'e' : 5 } ] data2 = json.dumps(data) jsonData = '{\"a\":1,\"b\":2,\"c\":3,\"d\":4,\"e\":5}'; text = json.loads(jsonData) print(text) # {u'a': 1, u'c': 3, u'b': 2, u'e': 5, u'd': 4} me = Object() me.name = \"Onur\" me.age = 35 me.dog = Object() me.dog.name = \"Apollo\" print(me.toJSON()) # output #{ # \"age\": 35, # \"dog\": { # \"name\": \"Apollo\" # }, # \"name\": \"Onur\" #} ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:3","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Yaml # install pyyaml from yaml import load, dump try: from yaml import CLoader as Loader, CDumper as Dumper except ImportError: from yaml import Loader, Dumper secret_path = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"..\", \"test.yaml\") stream = open(secret_path, \"r\") data = yaml.safe_load(stream) data = load(stream, Loader=Loader) output = dump(data, Dumper=Dumper) ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:4","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Web/API call Fetch http import urllib.request with urllib.request.urlopen('http://www.example.com/') as f: html = f.read().decode('utf-8') Call api pip install requests import requests r = requests.get(\"https://opendata.epa.gov.tw/ws/Data/AQI/?$format=json\", verify=False) list_of_dicts = r.json() print(type(r)) print(type(list_of_dicts)) for i in list_of_dicts: print(i[\"County\"], i[\"SiteName\"], i[\"PM2.5\"]) # defining the api-endpoint API_ENDPOINT = \"http://pastebin.com/api/api_post.php\" # your API key here API_KEY = \"XXXXXXXXXXXXXXXXX\" # your source code here source_code = '' data = {'api_dev_key':API_KEY, 'api_option':'paste', 'api_paste_code':source_code, 'api_paste_format':'python'} # sending post request and saving response as response object r = requests.post(url = API_ENDPOINT, data = data) pastebin_url = r.text print(\"The pastebin URL is:%s\"%pastebin_url) ","date":"2022-04-04","objectID":"/cheatsheet/python/:9:5","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Advance structure / Popular structure # tuple mytuple = (\"apple\", \"banana\", \"cherry\") # set myset = {\"apple\", \"banana\", \"cherry\"} # dictionary thisdict = { \"brand\": \"Ford\", \"model\": \"Mustang\", \"year\": 1964 } if \"year\" in thisdict.keys(): pass ","date":"2022-04-04","objectID":"/cheatsheet/python/:10:0","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Numpy import numpy as np arr = np.array([1, 2, 3, 4, 5]) np.concatenate((arr1, arr2)) np.sort(arr) x = np.where(arr == 4) # return (array([3])) x = [True, False, True, False, False] newarr = arr[x] # return [1, 3] ","date":"2022-04-04","objectID":"/cheatsheet/python/:10:1","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Panda import pandas as pd # 引用套件並縮寫為 pd df = pd.read_csv('shop_list.csv') print(df) cars = [\"BMW\", \"BENZ\", \"Toyota\", \"Nissan\", \"Lexus\"] select = pd.Series(cars) groups = [\"Movies\", \"Sports\", \"Coding\", \"Fishing\", \"Dancing\", \"cooking\"] num = [46, 8, 12, 12, 6, 58] dict = {\"groups\": groups, \"num\": num } select_df = pd.DataFrame(dict) out_df = select_df[select_df.loc[:,\"num\"] \u003e 10] # 選出人數超過 10 的群組 # iterate and update value for index, row in data_loc.iterrows(): data_loc.set_value(index,'real_distict',findDistrict(Point(row['lng'], row['lat']))) # Set index dataframe.set_index('Date', inplace=True) # Pandas date operation #generate date range #date diff date_df['diff_days'] = date_df['Date'].diff().dt.days # ","date":"2022-04-04","objectID":"/cheatsheet/python/:10:2","tags":null,"title":"Python","uri":"/cheatsheet/python/"},{"categories":null,"content":"Doing AWS Solution Architect Professional is like following road signs. It is intangible, it does not make you money, it does not teach you to make website. You just need to know enough to pass the exam and I advise you to take a breath first search approach to explore. The 5 domains are just nonsense. After reading them, you may ask yourself why you waste your precious life to do this. This is the worst marketing I have ever seen. Passing AWS solution architect Professional is not that easy. The skills you need to master are: Have ideas of more than 30+ AWS services Know details on critical AWS services like EC2, S3, Route 53 and Security and VPC Read fast, reasoning fast, which can practice through mock exam At this time, you are an AWS Solution Architect Associate, but you have no idea why you pass the exam, and of course, you don’t know much about AWS cloud. How to advance to professional? ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:0","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"1. Read the requirement The first thing you do is to read the requirement, you just read it and then print it out, pin it to the wall somewhere, just to remind you why you study. https://d1.awsstatic.com/training-and-certification/docs-sa-pro/AWS-Certified-Solutions-Architect-Professional_Exam-Guide.pdf Every day, you read a paper or a video or an AWS reinvent show, you can tie up your idea to a point in the exam guide. Domain 1: Design for Organizational Complexity 12.5% Domain 2: Design for New Solutions 31% Domain 3: Migration Planning 15% Domain 4: Cost Control 12.5% Domain 5: Continuous Improvement for Existing Solutions 29% ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:1","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"2. Have an idea on 30+ AWS service Now you have to find someone who can help you to know as many AWS service as you can in a visual way, I think ACloudGuru https://acloud.guru/ really helps you to get a grip on these services. I have seen reviews you that even you study through the course, you DON’T know how to start a project, you DON’T know how to create a website. I don’t deny it. I think ACloudGuru does its job, to introduce you as many AWS services you need to know in the exam. The subscription service is of good value, you can access to many courses. For example, I am a developer, I don’t have much idea on networking. AWS Solution architect professional course also does not says much on networking, firewall, and AWS Direct Connect, but you can watch the AWS Advanced network certification course to get the idea. ACloudGuru also helps you to build up your VPC skill, which is very important. ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:2","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"3. Know details on critical AWS service As an AWS solution architect associate, you know how to use it, when to use it. Now, as a solution architect professional, you have to make decision on how to use these critical AWS services efficiently. This is the part that you need to read WHITE PAPER. Read white papers when you have fragment time, read more of it, you get more ideas to sleep on. You then sit down and allocate 2-3 hours every week to consolidate your ideas. To study the exam, the best way is to do mock exams. A good mock exam can be found at Udemy. https://www.udemy.com/course/aws-solutions-architect-professional-practice-exams-amazon/learn/quiz/4473244/results?expanded=217468506#overview The objective of doing these papers is to give you ideas on the 5 domains. By now you should know what the 5 domains are. ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:3","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"4. Practice, read fast, reasoning fast The final objective is to practice, this is not an easy exam. You need to answer questions very fast. I am an Asian I don’t complain that. This is my edge. I know how to pass the exam by sitting down, doing mock exams, and doing mock exams faster. I don’t know why the exam is designed in this way and I don’t care. This AWS free course helps your preparation. https://www.aws.training/Details/eLearning?id=34737 Now you have mock exams from ACloud Guru and Udemy too, and you know the 5 domains. You now book the exam and hope you pass ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:4","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"5. Final words You should at the end of the studying journey, have done the following Read 20+ white paper, just grab the idea Do mock exams a couple of times, and ensure that you have 80% or above. I have done 13 times, average 2 times per mock exam Create a mind map, like this https://mm.tt/1336038621?t=VeN0xGMrVx Book the exam, and allocate some time before the exam to do a final preparation. My mock exam result Round Score 1 47% 2 78% 3 95% 4 58% 5 66% 6 60% 7 58% 8 90% 9 90% 10 90% 11 90% 12 75% 13 83% My final result is 826/1000, 750 is required to pass. ","date":"2020-06-14","objectID":"/blog/passing-aws-solution-architect-prof/:0:5","tags":["computer science","infrastructure"],"title":"Passing AWS Solution Architect Professional","uri":"/blog/passing-aws-solution-architect-prof/"},{"categories":null,"content":"I am a software engineer working in HK for 7 years, no much security background. I did work on machine code debugging to get what I want, you know when playing game and submitting homework assignment. I know OSCP for long, when Kali was still named as BackTrack. I thought that getting OSCP was hard and somehow I was worrying if I can complete the whole course. I have read BackTrack and play with Metasploit when I was studying Mphil. date back to 2010. Just 300-400 bytes of machine code allows you to exploit almost everything you can imagine. I felt so overpowered, so glad I don’t do anything silly at that time. You know, when you get a hammer, everything is just like nails. In previous year, a friend of mine passed OSCP. He recommend me to take OSCP course. He said this is totally worth it. He was not lying. OSCP seems like an expensive game to play, but the lesson learnt is so valuable. ","date":"2019-02-07","objectID":"/blog/oscp-journey/:0:0","tags":["computer science","infrastructure"],"title":"My OSCP Journey","uri":"/blog/oscp-journey/"},{"categories":null,"content":"OSCP training from Oct to Jan I start on Oct, 2018 and signed up for 30 days. The lab contains 4 network segments, and 50+ machines. 30+ machines on Public network and 3-6 machines on other networks. I have a full time job and other thing to do, so I was working at 1 machine per day. If you start now, I would suggest you to exploit a few machines first and come up with you note style. This is very important!!! or you have to redo all the machine just to find the key to get into other machine. My note is like that, you can come up with your style. P.S. I love markdown, it does its job and does it right! Github, Visual code all supporting markdown. I am using Visual code as a note taking software. # Summary # Information Gathering ## Port scanning ### TCP port 3389 (Default port for Remote desktop) ## Service SMB # Limited Shell # Privilege escalation ## Information gathering ## Administrative shell # Post Exploitation ## Shell ## Hash and Password ## Network Connection ## Network traffic ## Database ## User folder ## GUI ## System information ## Loot Reentrance of this machine I use Metasploit and metrepreter a lot, Yes, you cannot use it in exam, and also forum hints. I think it is better to have the mindset instead of focus on technical stuff. My friend said that you cannot learn much if you use them. I don’t know, I think I am kind of goal oriented, and I think if I learn a skill which I cannot use it to earn money, it is pretty a waste of time. By tying your hand without Metasploit and work on all lab machines. errr… Not for me. Of course, my mindset is how to put what I have learnt in practice and how to pass to exam, so I do redo some machines when I think doing so can help me pass the exam. My friend said that a guy who cannot pass because he always use Metasploit and forum hints. Haha, not me. (From forum, I know that some people use eternal blue for every Windows machine instead of the intended way. At my time, this issue was fixed, no more cheesing.) I do say OSCP bring you to the other side of the web, and ask you to use malicious code against others, mostly using publicly known exploit. The technique is a bit old I can say. AFAIK, you will not learn pwning WordPress in the course. Haha. Most of the time, you are working on Win XP, 7, 2008 and Linux kernel version 2.4 up to 3.x, or some softwares which are ceased to exist. As a software engineer, I know MNC and bank should already replaced these old OS. I remembered that at late 2014, when I working for a bank, I received an email from security team about Shell-shock. Impressive work done. For other small and medium companies, or companies which does not give a shit about IT should be able to present you these opportunities. (They are in way over their heads.) I think that in real world, the machine is either very easy to pwn, or impossible, because it is either being taken care of or the staff maintaining the machine is gone and gone forever. To sum up, 30 days is not for novice with full time job, there are too many thing you have to learnt to pull things off. I end up using 90 days to complete all the lab machines. Things to learnt: Writing exploit Using Metasploit Using msfvenom to generate payload Study of famous exploit technique SSH tunneling Active directory and SMB SSH using cert Learn the instinct for Linux and Windows environment to get the passwords and valuable information. Except for 6, You can learn them in HackTheBox and Vulnhub for free before OSCP, but if money is not on the line, pretty sure some people, including me, won’t take it seriously. ","date":"2019-02-07","objectID":"/blog/oscp-journey/:0:1","tags":["computer science","infrastructure"],"title":"My OSCP Journey","uri":"/blog/oscp-journey/"},{"categories":null,"content":"Exam on Feb 6 I start working the exam on 05:00. Mac book is totally worth it, because my Logitech webcam just couldn’t focus and I was ask to present my ID to examiner. I finished 4 machines around 20:00, ended up earning 80 points which I should be able to pass, and start doing the report, you know, to secure what I have got. I think that Dirb, Nmap, Nikto can give you points on an easy machine, and practice buffer overflow should allow you to secure 20+ points, and the rest, you have to use your instinct, and I can say you have little time to master new concept in this 24 hour. I am glad I do my all my lab machines and I am nosy enough to find the way up to privilege escalation The plan is that: (For those who uses Metasploit and forum hints extensively) Do full scan of all machine on the first 2 hours Switch machine every 2 hours, and got familiar to all machines. By now, you should have half your notes fill with information. Do buffer overflow at the 6th-8th hours. Go back to the rest, If 2 hours cannot make it, work on other machine. Get enough marks and start doing the report, and read the exam requirement carefully. There are unforeseen contingency when I took the exam and had to email to support a couple of time. ","date":"2019-02-07","objectID":"/blog/oscp-journey/:0:2","tags":["computer science","infrastructure"],"title":"My OSCP Journey","uri":"/blog/oscp-journey/"},{"categories":null,"content":"Passed!! I have received an email on 10 Feb (Sunday) 06:00 saying that I have passed the exam. I am so happy! They are going to ship me the certification via DHL. ","date":"2019-02-07","objectID":"/blog/oscp-journey/:0:3","tags":["computer science","infrastructure"],"title":"My OSCP Journey","uri":"/blog/oscp-journey/"},{"categories":null,"content":"Certificate Got my certificate today!! 23 Feb. ","date":"2019-02-07","objectID":"/blog/oscp-journey/:0:4","tags":["computer science","infrastructure"],"title":"My OSCP Journey","uri":"/blog/oscp-journey/"},{"categories":null,"content":"Term 3, the final term is finished, and I want to share with you want I have learned in this term. This term focuses on self-driving car brian: Behavior Planning: Write a drive computer to drive, while collecting data and predict using what you have learned in Term 2 (e.g. EKF, UKF, particle filter, PID, etc…) Interlude: Lyft challenge on semantic segmentation Semantic Segmentation: To let the car know what these point clouds are, e.g. Car, pedestrian, road, bike, etc… Functional safety: It is a very interesting topic and introduces me International standard ASIL (Automotive Safety Integrity Level). This makes sure your system is resilient and don’t cross lines. Final project: To drive a car around the yard and stop in front of a traffic light. ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:0","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Behavior Planning The original project is lack of structure makes it complained by many students. But none the less, it is a very good opportunity for me to test my system design capability after working 5+ years as a software engineer. Baidu Appollo is the project I look to while I try to come up with my design. I combine what I have learned in the course and cross check with Baidu Appollo to come up with my own design, you can see my write-up at here. There are still some bugs in the project, see if you can find it. Baidu is lacking behind Tencent and Alibaba recently. I feel sad about it. ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:1","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Interlude: Lyft challenge This challenge really let me realized that I just know a little bit about Tensorflow. The challenge is to create a Semantic Segmentation model and to locate car and road in the video prepared using CARLA CARLA is a simulator and it creates a high-quality simulated environment for testing driving algorithms. The competition was fierce, and I dug myself into reading research papers and thought that Google DeepLab v3 should be able to make me rank high enough. But I was wrong. The winner used the simple network (FCN-VGG16) taught in the lesson and hack the evaluation metrics. This simple network runs fast (e.g. 16fps) and the winner had the patient to train it to perfect. While I was struggling which network should I use and how to improve Tensorflow performance (dead end). My submission is 9 points lower than that of the winner and runs only at 7fps. Landing me at 57 over 155. This really taught me a lesson. Simple is the best. I should have refined my basic model first before window shopping another stuff. Another interesting observation is that UNet, a neural network proposed to extract pattern in medical images does help people rank high. This is my result on judge test set Here is the winner writeup: https://www.linkedin.com/pulse/how-i-won-lyft-perception-challenge-asad-zia/ ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:2","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Semantic Segmentation (Elective) After the interlude, I took this project more seriously when working on it. My aim was to make my FCN-VGG16 model a perfect model. I have uses both Kitti dataset and Cityscapes Dataset You can see how I applied myself by checking out this write-up The project just requires you to detect the road, but some other students push the FCN-VGG16 model further to detect all the object labels in Cityscapes Dataset. I am really impressed by their hard work. Here are the results: Images: result result result Video: ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:3","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Functional safety (Elective) I chose Semantic segmentation as my elective, so I don’t put much effort into this module. I go through the video and find that someday maybe I can apply it elsewhere, right? You cannot really depend on you hard-code logic to do everything, sometimes, you just have to hand over your problem to a black-box. (e.g. neural network) But this does not make it an excuse for system failure. Having ASIL or something like that really help you have the confidence to use those tools that may be unpredictable and make systems more useful to people without hurting people. ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:4","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Final Project I am working on it right now, and I hope to finish it by the end of this year. (My first submission is failed, but I can graduate with this submission). The final project makes use of ROS (Robot operating system) to drive Udacity car CARLA around a yard. For the simulator part, that was easy. What I have to do is to work hard and make the car in simulator runs. For the real testing. I really have no idea on how CARLA works, and so I have to go to the forum to ask for help from students who graduated or student living in the US. For those who want to know what is my team (Robocar) progress, you can take a look at this write-up ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:5","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Final words This project really makes me know more about the modern world today. I am very happy that talented people are really putting effort to make self-driving car a dream come true. While I don’t know if I can get a job in this self-driving industry or should I, but I think that it is definitely worth paying for this course. You are being thrown with a great and meaningful challenge and you think about it, learn about it and practice about it. ","date":"2018-09-04","objectID":"/blog/udacity-self-driving-car-term3/:0:6","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term3","uri":"/blog/udacity-self-driving-car-term3/"},{"categories":null,"content":"Term 2 is finished, and I want to share with you want I have learned in this term. This term focus on control, I learn how to use Kalman filter, particle filter, PID controller and MPC controller. This term requires C++ to finish but I have used it before. In term 2, the course teaches you the followings: ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:0","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"Extended Kalman filter and Unscented Kalman filter When you have both lidar and radar and you want to extract the good from both of them, Kalman filter is the tool to use. It combines the information together, predicts the current location and also tells you how sure the prediction is. All you need is to tell the Kalman filter what your car model is. Kalman filter makes educated guesses based on the model, instead of blindly trust whatever data lidar and radar generated. The project only requires me to track my car, but in the real setting, it can track many objects at the same time. (e.g. the car in front, the car behind, cars on the other lane, pedestrians, and dogs) So your car doesn’t run into these object even when the time lidar or radar or both generate silly data during some short interval. Here is my write-up for Extended Kalman filter and Unscented Kalman filter ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:1","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"Particle filter To track your own car, you may think this is just like track your iPhone app, which periodically get the GPS signal and send it to the server. (I don’t know if the guy in Apple really does this, the iPhone get accelerometer and gyroscope, and also it has a WiFi receiver) But how about your car is in the tunnel, your car is in the area with inaccurate GPS. The particle filter is here to help you to improve the accuracy of the car location. What you have to do is to tell the particle filter how your car moves and a map. and your car continues to tell the particle filter what does your car sees on the map (poles, beacons, tree, etc.) and the particle filter uses a sophisticated formula deduced from Navie Bayes algorithm to tell you where your car is. Want to see it in action. You can read my write-up here. ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:2","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"PID controller I did PID in university and I am dealing with PID again. Recently, I want to buy a drone and seems drone also used PID controller too. Why? to make it stabilized. You have 3 parameters P, I and D, and what you do is to tune them, so that the drone weight, the inertia and the center of gravity, wind speed etc. are all considered. But there is no way to calculate P, I, D from drone physical properties, you have to use trial or error. I am doing the same on this project. I use the twiddle algorithm the course teach me to tune the PID but it turns out that the car keeps driving off track. I have to force myself to use traditional way to tune PID first and make the car drives stable enough, I run the car a few laps to find more accurate PID values. I make the PID controller works, but it is running at 50mph at most. Check out how my car move and my implementation. ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:3","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"MPC controller MPC controller is a new concept of controlling algorithm to me, and if I have time maybe I would like to try to implement one to a drone. (which is already done by someone on youtube) MPC knows your car model, and the desired path (from driving computer, navigation component) and find out the best way to use the control input to make the car drives down the desired path. For the model, there are the kinematic model and the dynamic model. The kinematic model considers how the car moves and tunes normally but not drifting or launching or other stunts. I use the kinematic model in this project. MPC controller predicts a few seconds forward and use the first set of control input to drive the car, and do it again maybe 100 ms second later. By doing so, the car should be on track. But how MPC predicts? MPC use optimization to find out the desired set of control input so that it can keep the car on-track for a few seconds. I did convex optimization before but MPC problem is not a convex problem (i have sine and cosine in the model). When it is not convex, the implication is that the result may be just a local minimum instead of global minimum, but as long as it is not a saddle point (which is not a minimum at all). It should be OK for the purpose. No more tuning and my car can run at a higher speed. Please check out the result and also the implementation. ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:4","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"Conclusion: I now have more stuff in my arsenal to tackle the self-driving car problem. In the next term, I will make it works on a real car !! I don’t know what it will be end-up to. ","date":"2018-04-30","objectID":"/blog/udacity-self-driving-car-term2/:0:5","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term2","uri":"/blog/udacity-self-driving-car-term2/"},{"categories":null,"content":"之前個網站係我自己台主機入面, 用Digital ocean reverse proxy 返過來，但係我發覺SSL 同 WordPress 係 reverse proxy 下實在太難搞，而且Google search console 又成日報錯，所以我決定搬出去。 AWS新手一名。之後都請大家多多指教。 ","date":"2018-04-28","objectID":"/blog/site-move-to-aws/:0:0","tags":["computer science","infrastructure"],"title":"這個網站已經搬住 amazon web service","uri":"/blog/site-move-to-aws/"},{"categories":null,"content":"A friend of mine told me about this course, and I cannot believe that I can actually complete it. For the price, It worths me 49 USD only for 5 courses. The pricing model is $49/month until your finish the specialization. I finish the course within a month. I can say it is a steal, for $49, you can have a taste of reproducing some good papers in the deep learning fields. (One disappointment is that it does not cover Q-learning or reinforcement learning, which I have to turn to OpenAI gym). Sorry I cannot publish my assignments because I will be accused of letting other to plagiarise my work. But I can briefly tell you how great this course is, and if you have time, go for it. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:0","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Part 1. Neural network and deep learning This course teaches you how to build your neural network from ground-up. You first learn linear regression and then write your own neural network. You will implement the forward-propagation and the backward-propagation and the logit function (cross entropy function). What is the meaning to implement your own version of forward-propagation and backward-propagation? My opinion is that if you have this knowledge, you can work with TensorFlow with more confident. In later course, you study more NN layer like convolution layer, max pooling layer, LSTM cell and GRU cell, and they all have their own version of forward-propagation and backward-propagation. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:1","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Part 2. Improving deep neural network This part discusses how to initialize the neural network, how to apply regularisation and dropout to reduce variance, and the effect of applying difference optimization algorithm to the neural network. (e.g. gradient descent, stochastic gradient descent and Adam Optimiser) In the final assignment, you also have a chance to use TensorFlow to run a neural network, which is much simpler compared to writing your own neural network from ground-up. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:2","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Part 3. Structuring machine learning project This part discusses how to structure your machine learning project so that you can consistently produce a good result within a reasonable time. It is an experience talks from Andrew Ng, and if you have a machine learning project, I recommend you revisiting this course once again before coding, defining project schedule or defining your test cases. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:3","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Part 4. Convolution neural network This course is to introduce convolution neural network and it is a very informative course. In this course, you first learn to how to write a forward propagation and a backward propagation through a CNN layer and a max pool layer (Ohhh wait, max pool layer is not differentiable, have I got this wrong?). Next, you learn how to use convolution NN to recognized hand sign representing 1, 2, 3, 4, 5. (~78%) Then you will learn Keras and use it to write a ResNet (over 150 layers) and recognized hand sign again with a higher accuracy. (~86%) Then the course teaches you how to implement YOLO and use it to detect car. I must say it is much better than my HOG-SVM implementation in Udacity self-driving course. In the final week, you implement yourself a face recognition NN which able to recognize people’s faces and a neural style transfer NN which changing the style of a picture while keeping most of the content in the picture. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:4","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Part 5. Sequence model During my study, this course is not yet well prepared, and the assignments somehow do not work. Maybe there will be improved later. In this course, you will have the chance to write forward and backward propagation of an LSTM cell, which is very hard indeed. Then, you generate some name for a dinosaur and jazz music. I don’t think these make sense but I now know the power of RNN network. Afterward, there is a project try to place an emoji at the end of each sentence, and in this project, you know the power of attention mechanism in RNN network. Without attention mechanism, the machine wrongly read “I am not happy” and think that it is a happy sentiment. and you also have a chance to build the word2vec algorithm proposed by Google, which assigning similarity of a word according to the words appear next to a word. Obtaining such a similarity help machine learn a given text much better. Next, we learn how to translate a date format from an unstructured format to a structured format. like 10.09.70 to 1970-09-10. and how to use trigger words to activate a device. In the case of Apple Siri, it is “Hey Siri”. ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:5","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"Conclusion I think the course provides a very solid corner-stone for the learner to continue their learning in deep learning. With these experience, I can have more confidence in reproducing the result of papers I read in the future or invent an innovative way to use neural network if the time comes. And it is quite cheap if you can schedule 3 days per week to work on this specialization. (I have a full-time job, but I do take the machine learning course by Andrew before, and I have experience on TensorFlow) ","date":"2018-02-06","objectID":"/blog/coursera-deep-learning/:0:6","tags":["computer science","artificial intelligence"],"title":"Cousera Deep Learning","uri":"/blog/coursera-deep-learning/"},{"categories":null,"content":"I have recently finished the Udacity self-driving car course Term 1. The course is great and out of my expectation. I joined the course because I want to consolidate my understanding of neural network an computer vision. The course does fulfill my wishes. In term 1, the course teaches you the followings: ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:0","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"Use computer vision to find the road The driving computer needs to know where the road is in order to drive. This is not a simple task, and if there are errors, the car can screw up heavily. There are 2 projects about finding roads in videos. Basic: writeup, result (1), result (2), result challenge Advance: writeup, result (1), result(2), result(3) ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:1","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"Use Neural network to detect traffic sign The driving computer must be able to read traffic signs. There is a paper which explains how to read German traffic sign at an accuracy of 98%, which is must higher than human. I cannot faithfully reproduce this paper and obtain a test set accuracy of 96.2%. My network failed to recognize the “Pedestrians” sign, which I can say it is not desirable. Here is my write-up ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:2","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"Use Neural network to mimic human driving This is an interesting project, Nvidia team published a paper to train the driving computer to drive around using just videos of human driving around. This assignment is to reproduce the paper in a simulator. I am quite satisfied with this project, I train the car to drive forward, but in the end, the car can drive backward, which implied that neural network is not just a memorizer, and it does learn something. Here are my write-up and the results (1), (2), (3), (4) ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:3","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"Use HOG-SVM to detect vehicles on the road The driving computer must be able to detect vehicles on the road. In the project, I have a thousand of car images and use it to train an SVM machine to decide if an image segment contains a vehicle. When processing the video, I have to break up the video input into many segments and pass it to SVM, if SVM says it is a car, I mark it on the image and finally create an image where the car is highlighted. Here is my write-up and result ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:4","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"Conclusion It pretty much a taste of writing a driving computer. I can say if I load my program and use it to drive a car. The car crashes at no-time. I need to further enhance these components before I can move forward before I can invent my self-driving car (or a self-driving RC car). ","date":"2018-01-26","objectID":"/blog/udacity-self-driving-car-term1/:0:5","tags":["computer science","artificial intelligence"],"title":"Udacity Self Driving Car Term1","uri":"/blog/udacity-self-driving-car-term1/"},{"categories":null,"content":"A very insightful course from Coursera and Udacity on Machine learning and deep learning using Tensorflow. Learn some stunts which cannot be done by Programming 101. Machine learning from Coursera: A very good course in general, especially the assignment, really provide you a platform to test out whatever you have learnt from the video. When I heard that I have to learn Octave, I thought “WOW, I have to learn again a new language”, but it turns out to be Matlab, which I have some experience before. I am never a big fan of Matlab and R, so I translated all the assignment from Matlab (Octave) to Python for my reference, it turned out to be a great decision when I was studying deep learning from Udacity. I encourage you if you have time to go through this course, even paying the cost of learning a new programming language… to understand what machine learning really are. If you really like to stick with Python, just take my code from my Github and put it into your personal arsenal. Below are the assignments: Hands-on machine learning: https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex1/Assignment1.ipynb Computing J(theta) and L2 regularization: https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex2/Assignment2.ipynb Playing with neural network and identify hand-written numbers https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex3/Assignment3.ipynb Neural network back and forth, write a backward propagation yourself. https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex4/Assignment4.ipynb Bias and variance, teach you how to use and evaluate L2 regularization. https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex5/Assignment5.ipynb Support vector machine and detect spamming email https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex6/Assignment6.ipynb K-mean and PCA. Want to see what face look like under PCA? https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex7/Assignment7-part1.ipynb Anomaly detection and a movie recommendation system https://github.com/ymlai87416/PythonPlayground/blob/master/Python%20notebook/Machine%20learning%20by%20andrew%20ng/machine-learning-ex8/Assignment8.ipynb ","date":"2017-07-03","objectID":"/blog/coursera-machine-learning/:0:0","tags":["computer science","artificial intelligence"],"title":"Machine learning from Coursera by Andrew Ng","uri":"/blog/coursera-machine-learning/"},{"categories":null,"content":"Google hosts a Tensorflow course on Udacity, which is quite fun actually. Tensorflow makes creating a neural network like a breeze. If you went through the course “Machine learning by Andrew Ng” before, you will wonder where should you put the derivatives of a objective function. The answer is you don’t have to, Tensorflow computes the gradient numerically for you, you don’t have to differentiate any equations. Slow it is to compute gradient numerically, isn’t it? Maybe, but by harnessing the power of GPU, you can run even faster. Tensorflow compiles my Python code to CUDA and runs it on my GTX 980ti automatically. Deep learning is not new at all, it is a buzzword in 2015 because of the power of GPU. Neural network has been there for decades. Neural network (NN) does not scale well by nature, different layers in NN learns at a different rate. Sometimes, the value of backward propagation go to infinity (Exploding gradient) or go to zero (Vanishing gradient), which destroy the NN. There are techniques like gradient clipping and LSTM to deal with these problems. The course is a little bit too rush and requires you to read other material in order to finish the assignment, but still, it is a good introduction to deep learning. Here is the assignment completed by me, when you in doubt finding a working solution or want to compare your answer with someone. I think it is gonna to help. Assignment 1: 1_notmnist.ipynb Play with notMNIST dataset with Python library scikit-learn to get familiarized. My solution Assignment 2: 2_fullyconnected.ipynb Design a 1 layer NN to classify alphabets in notMNIST dataset My solution Assignment 3: 3_regularization.ipynb Here you learn L2 regularization. (I have done the same already in Andrew Ng course). you also implement a 4 layers NN classifying alphabets at (95.9%), The best reported is 97.1%, so powerful !!! My solution Assignment 4: 4_convolutions.ipynb Assignments become more difficult onward, require you to do some readings. I implemented a LeNets-alike to classify alphabets (95.5%) My solution Assignment 5: 5_word2vec.ipynb Converting one-hot-vector to embedding and discover an interesting relationship between words, I have also try TSNE mapping. My solution Assignment 6: 6_lstm.ipynb The first part is quite boring, train an NN to output non-sense. The second part is very challenging, it asks you to train an NN to reverse every word in the sentence. Not many I have found conquer this problem and post the solution on Github. My solution ","date":"2017-07-03","objectID":"/blog/tensorflow-tutorial-udacity/:0:0","tags":["computer science","artificial intelligence"],"title":"Tensorflow Tutorial Udacity","uri":"/blog/tensorflow-tutorial-udacity/"},{"categories":null,"content":"之前去investology 聽黃sir 講座, 佢提到港股期權市場其實係一個大戶市場. 入面既數據可以比較好地預測股票走勢. 佢仲話自己聰明絶頂, 自己揾人去幫自己起左個website 去幫人揾入市訊號. 雖然佢講到佢系統好勁, 但係我唔係好信. 所以我無俾錢, 反而自己寫左個website 幫自己揾黃sir 所講既入市信號. 個website 係: http://stockoption.ymlai87416.com 佢個入市訊號係唔係好勁我唔知. 不過我就分享一下我個呢個website 既心得. 資料: 資料係來自港交所, 每一個交易日佢都價發佈期權收市資訊. 個網址係: http://www.hkex.com.hk/eng/stat/dmstat/dayrpt/dqeYYMMDD.zip 個crawler 用 java/spring/hibernate 去寫, 之後試用都幾食RAM 同理runtime 都唔係好快. 因為我無特別做任何tuning. 網站: 個網站我用左 scala 去寫, 用anorm SQL 因為想比較簡單既ORM試下玩下. 用bootstrap 去layout UI. 我想將個website 轉 web service + angular 去寫, 不過為左趕得切朋友生日, 所以都係用左plain HTML + javascript 起貨. 大家如個對呢個system 有興趣可以去呢個repo 睇下: https://github.com/ymlai87416/investmentProject ","date":"2017-03-08","objectID":"/blog/%E8%82%A1%E7%A5%A8%E6%9C%9F%E6%AC%8A%E5%88%86%E6%9E%90/:0:0","tags":["trade"],"title":"股票期權分析","uri":"/blog/%E8%82%A1%E7%A5%A8%E6%9C%9F%E6%AC%8A%E5%88%86%E6%9E%90/"},{"categories":null,"content":"前陣子跟同事一同去投資講座 (investology). 黃sir 介紹一目均衡表 (ichimoku) 去預測股票走勢. 當然唔可以話一定準, 但係有時候總要放手一搏, 而個勝算就係用工具去演算出來. 之後同個同事講不如自己寫一個一目均衡表出來. 因為就算aastock 都無得用一目均衡表, 佢好熟Python. 佢之後寫左一個一目均衡表出來. 個repository 係: https://github.com/taihangFu/Ichimoku 註意: 本文章沒有介紹 investology成分. ","date":"2017-02-17","objectID":"/blog/ichimoku/:0:0","tags":["trade"],"title":"Ichimoku 一目均衡表","uri":"/blog/ichimoku/"},{"categories":null,"content":"Facebook hacker cup 2017 has come. and I am now sharpening my tools to join the fight. Facebook hacker cup can allow you to submit only 1 time for each problem, and give you only 6 minutes to do the submission. After trying several past year questions. I can conclude questions of the following type. Questions I can’t solve within the competition. Quick and swift by applying algorithm tricks, returning answer below 3 seconds. Long IO and hence make you nervous, returning answer in 3 minutes… Long processing time and hence make you nervous, returning answer in 3 minutes… So what can you do about case 3 and 4? I use Java to write my code, my default template is a single thread and reading input using Scanner. My computer is i7-5820, and currently having 16GB RAM, can I utilize what I have to improve my odds scoring a correct submission? JVM is Java 8, default using 1/4 of total computer memory for maximum heap size, which is 4GB RAM available. The following I have tried to improve my template to use threading and also replace Scanner with BufferedReader, to see the performance gain. Runtime analysis: Question Original version Thread version (8 threads) Runtime reduced by Fast IO version Runtime reduced by Facebook 2015 Round 1 25 Autocomplete 143,685ms 140,330ms 2.39% 1,669ms 98.8% 40 Corporate Gifting 45,085ms 12,719ms* 71.79% 41,814ms 7.26% Facebook 2016 Round 1 20 Laundro, Matt 3,945ms 1,097ms 72.19% – – 40 Boomerang Tournament 9,412ms 1,912ms 79.69% – – Facebook 2017 Qualification Round 20 Progress Pie 37ms 81ms -118.92% – – 30 Lazy Loading 65ms 98ms -50.77% – – * With IO improvement and reduced working set. Why can I not achieve a runtime reduction by 87.5% (8 times as fast)? For a simple problem, you only add overhead to the program, which makes the program run slower. Some test cases run faster, some are not, make the load not distributed evenly. in another word, you can distribute load evenly among the 8 threads you created. Conclusion: For a simple problem, you better go with a single thread. Adding thread make the program run slower, but acceptable. For input file of 10-20MB, changing from Scanner to BufferedReader can make the program 85 times faster (see 25 Autocomplete) than the original one. Don’t waste the precious 6 minutes on I/O. For tedious calculation problem like 20 Laundro, Matt, which uses priority queue extensively with the small working set. The improvement is of around 4 leaps. For dynamic programming problem, all work like a charm with at least 4 times boost. (e.g. Boomerang Tournament, which 5 times as fast) Tomorrow is facebook hacker cup 2017 Round 1. Enjoy! ","date":"2017-01-14","objectID":"/blog/2017-facebook-hackercup/:0:0","tags":["computer science"],"title":"2017 Facebook Hackercup","uri":"/blog/2017-facebook-hackercup/"},{"categories":null,"content":"現在server 己經設置好。 interactive broker 申請己經進行中。 我想我這3個月應該好好運用怎樣用程式做自動買賣吧。不能也最少參與一下股票期權的買賣。 以下是我這年多看的書，看得太多而什麼也不做好像有點過份。 目標 stock filter try to derive a trading strategy and review the result. try out the interactive broker interface trading Hong Kong stock options Paper trading 試驗場： Quantopian: https://www.quantopian.com/ 價值投資書 One up on the Wall street: How to use what you already know to make money in the market A Random Walk Down Wall Street: The Time-Tested Strategy for Successful Investing 林森池 – 平民資本家 林森池 – 證券分析實踐 The essay of Warren Buffett （QE… 現在只要有3厘回報人人都買儍了，樓價高企對有一層已供斷的我來說沒有什麼，但是層樓做維修比人圍就慘慘豬） 技術投資書 Trade Your Way to Financial Freedom Beyond Technical Analysis: How to Develop and Implement a Winning Trading System The Complete TurtleTrader: How 23 Novice Investors Became Overnight Millionaires The Evaluation and Optimization of Trading Strategies 故事書 The Snowball: Warren Buffett and the Business of Life ","date":"2016-10-02","objectID":"/blog/2016-q4-investment/:0:0","tags":["trade"],"title":"2016年 第4季投資目標","uri":"/blog/2016-q4-investment/"},{"categories":null,"content":"我用 Digital ocean VPS 來做以下的事： 建立一個 reverse proxy 建立一個 zabbix 來監察我家server 的情況 （遲些有機會再說） 什麼是reverse proxy 簡單來說是一個http server，將VPS 收到的request, 轉向我家的 server. 原來這樣做可以做到 load balancing. 我這樣做是我想將家hosting 的網站掛到互聯網上去。 例如我想掛2個servers，一個係blog，一個係Jenkins 原來2個server 的 Address 係 abc.no-ip.org:80 (blog) 同理 abc.no-ip.org:6000 (jenkins) 現在透過 reverse proxy 可以比個好名佢。例如 www.abc.com (blog) -\u003e abc.no-ip.org:80 jenkins.abc.com (jenkins) -\u003e jenkins.no-ip.org:6000 而且又可以做SSL（為 dynamic dns address 做 SSL，儍的嗎？），一石二鳥。  Wikipedia也有一篇文去解釋，看不明上面可以去這裹看看https://zh.wikipedia.org/wiki/反向代理 Digital ocean 的文檔很利害，所以我就直接介紹給你們看。用在自家server 也行。 https://www.digitalocean.com/community/tutorials/how-to-configure-nginx-as-a-reverse-proxy-for-apache 最重要的是以下的 config, 紅色的是我的 DDNS 地址 location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $remote_addr; proxy_set_header Host $host; proxy_pass http://abc.ddns-provider.net:8080; } ","date":"2016-10-02","objectID":"/blog/digital-ocean-reverse-proxy/:0:0","tags":["computer science","infrastructure"],"title":"Digital Ocean Reverse Proxy","uri":"/blog/digital-ocean-reverse-proxy/"},{"categories":null,"content":"因為 Godaddy 買的東西不能掛 wordpress (五年前最平的套餐 ），所以我也有看看有沒有方法可以令到我用屋企IP 去建設網站，用過了 dynamic dns, no-ip, changeip, duckdns. 這是我一路來的感覺。 不用錢的東西不可靠 不可靠有兩個途徑解決。 付錢 設立1或者多個備用方案。 說一說我對各大DDNS 的感覺吧。 DuckDNS (http://www.duckdns.org) 這個是我唯人欣賞的，他的營運目標就是免費，而他不是空口說白話。 營運方針：http://www.duckdns.org/about.jsp 營運籌款：https://www.patreon.com/user?u=3209735而且亦有過住的記錄，希望他能夠繼續營運下去，直到永遠。阿門。 如果你們用過滿意的話，可以捐錢支持一下他們。 Dynamic DNS (www.dyn.com) 用了一陣，現在他不再提供免費 plan 了。 2016十月 NoIP (www.noip.com) 免費的 plan 很麻煩，他會每個月寄你一封信。說你不按link 就把你的 domain 給刪掉，很不人性化。我不想付錢，所以不買他，他亦不能作備用方案。因為我不管他，他會自動刪掉我的domain. ChangeIP (https://www.changeip.com/) 可以作為備用方案，但網上有人投訢他有downtime 6個小時長, 我不知道，但作為備用，也有點用吧。 現在我是用 duck dns（主要） + change ip（備用） 來設定 ddns, 當然向 DDNS update IP 的不是我家的router, 而是我家的舊電腦兼server. ","date":"2016-10-02","objectID":"/blog/dynamic-dns/:0:0","tags":["computer science","infrastructure"],"title":"Dynamic Dns","uri":"/blog/dynamic-dns/"},{"categories":null,"content":"免費的SSL: Let’s encrypt https://letsencrypt.org/ 免費，而且營運開支也是有大公司去做backup的。而公司的目的是要SSL不用錢就可以用到，從而建立安全的網上世界。 試想想大部份人都係用同一個 password login 十幾個 website。Facebook又用佢，網上不知名forum又用佢。如果不知名forum唔用SSL，個 可以用來login 佢 facebook 既 password 就好大機會落係hacker 手上）。我諗這個就是大公司support 佢既理由。 唯一的壞處是張證書只有3個月有效期，過了期要續。如果沒有以下法寶我可能不會用的。 自動 renew cert robot: CertBot https://certbot.eff.org 不用錢，對各大OS都有 Support，令到你只要打email 就可以申請到cert, 令你只要掛一個command 上cron job 就可以自動renew. 在此介紹如何在digital ocean VPS 安裝 let’s encrypt SSL. (自己server 都apply 到） https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04 張cert 可以同時比nginx 同 apache 用，唔駛抄。（一抄你叫cert bot 點一次過 update 2 張 cert). ","date":"2016-10-02","objectID":"/blog/free-ssl/:0:0","tags":["computer science","infrastructure"],"title":"Free SSL","uri":"/blog/free-ssl/"},{"categories":null,"content":"前幾個月係日本返來之後係網上留意一個用JVM 行既 functional programming language. 之前係 StackOverflow Job 個度都見到有job requirement 要用呢種 language, 佢就係 Scala. 係一個月前我見到 Coursera 有呢隻language 既 course 開班就入左去望下 (自己睇書學理d返工都駛用個d 就咪搞我). 估唔到有意外收獲. Bonus 1 就係 Functional programming, 其實之前AI都有學但係真係用係AI 方面, 無諗過佢係 parallel architecture 個度都有 advantage Bonus 2 就係 immutable structure 的好處, 多執行緒都不用愁 locking. Locking 真係好麻煩. Bonus 3 Try, Future 同 Observable, 呢 d 新既 data structure 可以更加好地形容一個 parallel process. 次次都有Thread就 Readability 係差小小, 不過都係同Thread 一樣難. Bonus 4. Actor Model. 呢個主要係一個叫 Akka 既 Library 支持. 係某一些情況寫好個protocol 其實可以比寫Thread 更輕鬆. 想知多d 可以去 Coursera subscribe 以下兩個 course Scala函數式編程原理 響應式編程原理 ","date":"2014-07-02","objectID":"/blog/scala-and-akka-framework/:0:0","tags":["computer science"],"title":"Scala and Akka Framework","uri":"/blog/scala-and-akka-framework/"},{"categories":null,"content":"之前上網見到一個網站叫 coursera, 見到佢到有D我想睇既 course. 我register 左 3個 (到目前為止) 一個係 scala programming, 一個係 Finance Markets, 一個係 AI. 個course 主要係用視頻做教學手段 (對我來說沒什麼, 我的日文都是大陸視頻學返來的, 最主要看的是製作的有沒有用心, 有的話就事半功倍, 無的話睇到一半都想delete.) Finance Markets 個個係Yale 整既, 個professor 係 Robert Shiller (上圖), 我諗個視頻係2010年拍既. 個course 都有討論sub prime crisis. 我之前有睇過 Random Walk in the Wall Street. 個鋪排實在太似. 而且睇完書可能唔係幾吸收到, 睇視頻個教授比返d 簡單而真實既example 就而易明好多. Scala programming. 個video 好差, 有少少想放棄, 但係自己睇書又好似好辛苦. 個site 既content 都係唔同大學自己整, 良莠不齊. 個網仲有好多科目既, 如果你係大學生覺得自己個professor 講到 199, 又或者自己有興趣都可以上去望下. 每個course 都有 start date, end date, 過左 end date 就無得 enroll, enroll左之後就算個course 完左都有得睇返視頻. 每個course 都有 assignment 同理 exam, 暫時我見過都係 M.C. 但係我返工忙, 完全miss 哂 deadline. ","date":"2014-04-27","objectID":"/blog/finance-markets-coursera/:0:0","tags":["trade"],"title":"Finance Markets Coursera","uri":"/blog/finance-markets-coursera/"},{"categories":null,"content":"係讀 MPhil 個年我係我 supervisor 個 lab 度返工, 識左個聽講炒股好叻既人. 佢 recommend 左林森池 2 本書比我. 第一本係平民資本家, 另一本係證券分析實踐, 投資王道. 而家都好似無得買. 平民資本家 一本講歷史, 上車, 監察, 落車, 換馬, 泡沬, 同理有少少基礎分析既書, 不過我就唔係幾有心機去磨d 數出來. 這本書分析過既股票: 中國人壽, 中資銀行, HSBC 同理香港地產股 證券分析實踐 這本書真係就唔同既行業進行分析 行業包括: 電力, 銀行, 石油, 電訊, 人壽, 公路 再同你講買洐生就無運行. (有D人可能每月成副身家搏一鋪就唔係幾認同既) 再另加一大堆歷史. 數字方面係 P/E 外加 PEG 要睇管理層, 玩財技同理分大花紅但無建樹就好避之則吉. (無謂幫人養二世祖 XD) 市場專利 (舊時既HSBC, 中國電訊行業), 過度競爭行業好似輕工業就唔好掂. (而家分分鐘比人整頓就唔好拉) 公開大學講座 http://www.ouhk.edu.hk/wcsprd/Satellite?pagename=OUHK/tcSingPage\u0026c=C_PAU\u0026cid=191182068600\u0026lang=chi 都係講返前面個2本書投資個part , 同理叫人唔好去賭錢(玩洐生工具). 我諗睇完本書再聽下佢講野可以體會到佢本書既背後理念. (佢叫人唔好去賭個下真係好有霸氣) RTHK 林森池 錄音 呢個我係網上揾到未聽過. 條link 係下面遲下再分享. http://peers.cashmain.com/collectivecontent.php?contentid=130 ","date":"2014-04-27","objectID":"/blog/%E6%9E%97%E6%A3%AE%E6%B1%A0/:0:0","tags":["trade"],"title":"林森池","uri":"/blog/%E6%9E%97%E6%A3%AE%E6%B1%A0/"},{"categories":null,"content":"近日因為同朋友一齊炒股既關係, 上多左aastock. 發現成日係新聞紙都理電視都有講牛熊區或者蟹貨區. 今日就上網發現在有2個網站都係提供這個功能. 可以幫我更加了解點解隻騰訊點解會係500-530蚊浮浮沉沉 (泣…) 你會係圖既左邊見到一個打橫擺放既棒形圖, 每日收市有個價, 有成交, 如果個價係個510-520, 個日既成交量就會去左 510-520 個支棒個度. 如是者, 個圖就是這樣產生. 紅色是個日跌市既成交而綠色係個日升市既成交. 通常都係睇成條棒既長度就知道, 條棒越長, 個價格範圍就係一個支持位或者阻力位. 越長越強 好明顯, 今日4月27日, 700個價係523, 咁就係一個阻力位. 下一個位 500-510係一個支持位. 第一個網站係信報個港股 360 http://stock360.hkej.com/#spot2-tab 第二個網站係分析之師 http://www.analystz.hk/about/intro.php 不過我睇信報個個好係仲有少少bug, 玩耐左就shift 哂位, 反而分析之師雖然唔係interactive 但係起碼唔會shift 錯位. 我而家都睇緊有無d 免費可以一眼睇到牛熊重貨區, 分析之師是有資料的 (一張表格). 但係今日就寫住咁多先. ","date":"2014-04-27","objectID":"/blog/%E8%9F%B9%E8%B2%A8%E5%8D%80/:0:0","tags":["trade"],"title":"蟹貨區","uri":"/blog/%E8%9F%B9%E8%B2%A8%E5%8D%80/"}]