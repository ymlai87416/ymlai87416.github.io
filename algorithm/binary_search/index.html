<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Binary search - Tom personal site</title><meta name=Description content="Tom personal web site"><meta property="og:title" content="Binary search"><meta property="og:description" content="Finding mid Wrong: mid = (high + low) / 2 Correct: mid = low + (high-low)/2
Consider case where high=-4 and low=-5, mid will be -4 which is high, so it will keep looping because you cannot reduce high value.
Finding exact value Where the exact value must be find Inclusive version stop at low > high, while exclusive version stop at low == high.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 private int iterativeInclusive(){ int low = 0, high = nums."><meta property="og:type" content="article"><meta property="og:url" content="https://ymlai87416.github.io/algorithm/binary_search/"><meta property="og:image" content="https://ymlai87416.github.io/logo.png"><meta property="article:section" content="algorithm"><meta property="article:published_time" content="2022-04-04T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-04T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ymlai87416.github.io/logo.png"><meta name=twitter:title content="Binary search"><meta name=twitter:description content="Finding mid Wrong: mid = (high + low) / 2 Correct: mid = low + (high-low)/2
Consider case where high=-4 and low=-5, mid will be -4 which is high, so it will keep looping because you cannot reduce high value.
Finding exact value Where the exact value must be find Inclusive version stop at low > high, while exclusive version stop at low == high.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 private int iterativeInclusive(){ int low = 0, high = nums."><meta name=application-name content="Tom personal web site"><meta name=apple-mobile-web-app-title content="Tom personal web site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://ymlai87416.github.io/algorithm/binary_search/><link rel=prev href=https://ymlai87416.github.io/algorithm/data_structure/><link rel=next href=https://ymlai87416.github.io/algorithm/binary/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Binary search","inLanguage":"zh","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ymlai87416.github.io\/algorithm\/binary_search\/"},"image":["https:\/\/ymlai87416.github.io\/images\/Apple-Devices-Preview.png"],"genre":"algorithm","wordcount":1040,"url":"https:\/\/ymlai87416.github.io\/algorithm\/binary_search\/","datePublished":"2022-04-04T00:00:00+00:00","dateModified":"2022-04-04T00:00:00+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Tom","logo":"https:\/\/ymlai87416.github.io\/images\/avatar.jpg"},"author":{"@type":"Person","name":"Tom"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Tom personal site">Tom personal site</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/about/>About </a><a class=menu-item href=/blog/>Blog </a><a class=menu-item href=/cheatsheet/>Cheatsheet </a><a class=menu-item href=/tools/>Tools </a><a class=menu-item href=/link/>Link </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Tom personal site">Tom personal site</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/about/ title>About</a><a class=menu-item href=/blog/ title>Blog</a><a class=menu-item href=/cheatsheet/ title>Cheatsheet</a><a class=menu-item href=/tools/ title>Tools</a><a class=menu-item href=/link/ title>Link</a><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title></h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Binary search</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Tom</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-04-04>2022-04-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span></span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#finding-mid>Finding mid</a></li><li><a href=#finding-exact-value>Finding exact value</a></li><li><a href=#finding-floor-value-or-ceiling-value>Finding floor value or ceiling value</a></li><li><a href=#binary-search-using-library-function>Binary search using library function</a></li><li><a href=#searching-in-sorted-2d-array>Searching in sorted 2D array</a></li><li><a href=#binary-search-tree>Binary search tree</a></li><li><a href=#searching-on-k-dimension>Searching on K-dimension</a></li></ul></nav></div></div><div class=content id=content><h2 id=finding-mid>Finding mid</h2><p>Wrong: mid = (high + low) / 2
Correct: mid = low + (high-low)/2</p><p>Consider case where high=-4 and low=-5, mid will be -4 which is high, so it will keep looping because you cannot reduce high value.</p><h2 id=finding-exact-value>Finding exact value</h2><p>Where the exact value must be find
Inclusive version stop at low > high, while exclusive version stop at low == high.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=nf>iterativeInclusive</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>low</span> <span class=o>=</span> <span class=n>0</span><span class=o>,</span> <span class=n>high</span> <span class=o>=</span> <span class=n>nums</span><span class=o>.</span><span class=na>length</span><span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=o>(</span><span class=n>low</span> <span class=o>&lt;=</span> <span class=n>high</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>low</span> <span class=o>+</span> <span class=o>(</span><span class=n>high</span><span class=o>-</span><span class=n>low</span><span class=o>)/</span><span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>nums</span><span class=o>[</span><span class=n>mid</span><span class=o>]</span> <span class=o>==</span> <span class=n>target</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>mid</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>nums</span><span class=o>[</span><span class=n>mid</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>low</span> <span class=o>=</span> <span class=n>mid</span><span class=o>+</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=n>high</span> <span class=o>=</span> <span class=n>mid</span><span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=nf>iterativeExclusive</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>low</span> <span class=o>=</span> <span class=n>0</span><span class=o>,</span> <span class=n>high</span> <span class=o>=</span> <span class=n>nums</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=o>(</span><span class=n>low</span> <span class=o>&lt;</span> <span class=n>high</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>low</span> <span class=o>+</span> <span class=o>(</span><span class=n>high</span><span class=o>-</span><span class=n>low</span><span class=o>)/</span><span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>nums</span><span class=o>[</span><span class=n>mid</span><span class=o>]</span> <span class=o>==</span> <span class=n>target</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>mid</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>nums</span><span class=o>[</span><span class=n>mid</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>low</span> <span class=o>=</span> <span class=n>mid</span><span class=o>+</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=n>high</span> <span class=o>=</span> <span class=n>mid</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Refer: <a href=https://leetcode.com/submissions/detail/692206573/ target=_blank rel="noopener noreffer">Binary Search</a></p><h2 id=finding-floor-value-or-ceiling-value>Finding floor value or ceiling value</h2><p>Better use inclusive high version.
For exclusive version, you have to search range says (0, 2),
then it can stucks with (0, 2) forever, because you can only assign end with mid+1, which is the end itself, no progress is made, so I have to handle arrays of length 2 also as base case.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=nf>findK</span><span class=o>(</span><span class=kt>long</span> <span class=n>low</span><span class=o>,</span> <span class=kt>long</span> <span class=n>high</span><span class=o>){</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>low</span> <span class=o>==</span> <span class=n>high</span><span class=o>)</span> <span class=k>return</span> <span class=o>(</span><span class=kt>int</span><span class=o>)</span> <span class=n>low</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>long</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>low</span><span class=o>+(</span><span class=n>high</span><span class=o>-</span><span class=n>low</span><span class=o>)/</span><span class=n>2</span><span class=o>;</span>  <span class=c1>//fuck!! there introduce a bug, consider case -5, -4.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=n>count</span><span class=o>(</span><span class=n>mid</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>cnt</span> <span class=o>&lt;</span> <span class=n>k</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>findK</span><span class=o>(</span><span class=n>mid</span><span class=o>+</span><span class=n>1</span><span class=o>,</span> <span class=n>high</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>findK</span><span class=o>(</span><span class=n>low</span><span class=o>,</span> <span class=n>mid</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Refer: <a href=https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/submissions/ target=_blank rel="noopener noreffer">Kth Smallest Element in a Sorted Matrix</a></p><p>Refer: <a href=https://leetcode.com/problems/search-insert-position/ target=_blank rel="noopener noreffer">Search Insert Position</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//This is the example of finding higest value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>low</span><span class=o>,</span> <span class=n>high</span><span class=o>,</span> <span class=n>mid</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>low</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>high</span> <span class=o>=</span> <span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>()-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>lastGoodS</span> <span class=o>=</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//low and high inclusive
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>while</span><span class=o>(</span><span class=n>low</span> <span class=o>&lt;</span> <span class=n>high</span><span class=o>){</span>
</span></span><span class=line><span class=cl>    <span class=n>mid</span> <span class=o>=</span> <span class=n>low</span> <span class=o>+</span> <span class=o>(</span><span class=n>high</span><span class=o>-</span><span class=n>low</span><span class=o>+</span><span class=n>1</span><span class=o>)/</span><span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>spos</span> <span class=o>=</span> <span class=n>checkHaveDuplicate</span><span class=o>(</span><span class=n>mid</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>spos</span> <span class=o>!=</span> <span class=o>-</span><span class=n>1</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>low</span> <span class=o>=</span> <span class=n>mid</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>lastGoodS</span> <span class=o>=</span> <span class=n>spos</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>high</span> <span class=o>=</span> <span class=n>mid</span><span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Refer: <a href=https://leetcode.com/submissions/detail/696974797/ target=_blank rel="noopener noreffer">Longest Duplicate Substring</a></p><h2 id=binary-search-using-library-function>Binary search using library function</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//exact value, just use the binarySearch and check for pos is positive.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=nf>searchGEq</span><span class=o>(</span><span class=kt>long</span><span class=o>[]</span> <span class=n>arr</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>,</span> <span class=kt>int</span> <span class=n>end</span><span class=o>,</span> <span class=kt>long</span> <span class=n>value</span><span class=o>){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>binarySearch</span><span class=o>(</span><span class=n>arr</span><span class=o>,</span> <span class=n>start</span><span class=o>,</span> <span class=n>end</span><span class=o>,</span> <span class=n>value</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>pos</span> <span class=o>&gt;=</span><span class=n>0</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=c1>//ensure it is the leftmost  [value, ..)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>while</span><span class=o>(</span><span class=n>pos</span><span class=o>-</span><span class=n>1</span> <span class=o>&gt;=</span><span class=n>start</span> <span class=o>&amp;&amp;</span> <span class=n>arr</span><span class=o>[</span><span class=n>pos</span><span class=o>-</span><span class=n>1</span><span class=o>]</span> <span class=o>==</span> <span class=n>value</span><span class=o>)</span> <span class=o>--</span><span class=n>pos</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>pos</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//this is the insert position
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// 0 1 3, search for 2, I want to return 3
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//     ^
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=o>-(</span><span class=n>pos</span><span class=o>+</span><span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=nf>searchLEq</span><span class=o>(</span><span class=kt>long</span><span class=o>[]</span> <span class=n>arr</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>,</span> <span class=kt>int</span> <span class=n>end</span><span class=o>,</span> <span class=kt>long</span> <span class=n>value</span><span class=o>){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>binarySearch</span><span class=o>(</span><span class=n>arr</span><span class=o>,</span> <span class=n>start</span><span class=o>,</span> <span class=n>end</span><span class=o>,</span> <span class=n>value</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>pos</span> <span class=o>&gt;=</span><span class=n>0</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=c1>//ensure it is the rightmost  (... value]
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>while</span><span class=o>(</span><span class=n>pos</span><span class=o>+</span><span class=n>1</span> <span class=o>&lt;</span> <span class=n>end</span> <span class=o>&amp;&amp;</span> <span class=n>arr</span><span class=o>[</span><span class=n>pos</span><span class=o>+</span><span class=n>1</span><span class=o>]</span> <span class=o>==</span> <span class=n>value</span><span class=o>)</span> <span class=o>++</span><span class=n>pos</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>pos</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 0 1 3, search for 2, I want to return 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//     ^
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=o>-(</span><span class=n>pos</span><span class=o>+</span><span class=n>1</span><span class=o>)-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=searching-in-sorted-2d-array>Searching in sorted 2D array</h2><p>The top-right or left-bottom corner search approach is O(sqrt(K)) search algorithm on the linear version.
Time complexity: O(M+N)</p><h2 id=binary-search-tree>Binary search tree</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//TODO: to be completed
</span></span></span></code></pre></td></tr></table></div></div><h2 id=searching-on-k-dimension>Searching on K-dimension</h2><p>This is the extension of BST in higher dimension</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>KDTree</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[][]</span> <span class=n>points</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span> <span class=n>root</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>dimension</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>N</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Random</span> <span class=n>r</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>KDTree</span><span class=o>(</span><span class=kt>int</span> <span class=n>dimension</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>dimension</span> <span class=o>=</span> <span class=n>dimension</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>add</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>point</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>root</span> <span class=o>=</span> <span class=n>addHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>root</span><span class=o>,</span> <span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Node</span> <span class=nf>addHelper</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>point</span><span class=o>,</span> <span class=n>Node</span> <span class=n>cur</span><span class=o>,</span> <span class=kt>int</span> <span class=n>lvl</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>cur</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>Node</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>lvl</span> <span class=o>%</span> <span class=n>dimension</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>point</span><span class=o>[</span><span class=n>cur</span><span class=o>.</span><span class=na>dim</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>cur</span><span class=o>.</span><span class=na>value</span><span class=o>[</span><span class=n>cur</span><span class=o>.</span><span class=na>dim</span><span class=o>]</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>addHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>cur</span><span class=o>.</span><span class=na>left</span><span class=o>,</span> <span class=n>lvl</span><span class=o>+</span><span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>addHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>cur</span><span class=o>.</span><span class=na>right</span><span class=o>,</span> <span class=n>lvl</span><span class=o>+</span><span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cur</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//how to find k nearest
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Tuple</span><span class=o>&gt;</span> <span class=n>pq</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[][]</span> <span class=nf>kNearestPoint</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>point</span><span class=o>,</span> <span class=kt>int</span> <span class=n>k</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>k</span> <span class=o>=</span> <span class=n>k</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>kNearestPointHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>root</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[][]</span> <span class=n>result</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>k</span><span class=o>][];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>0</span><span class=o>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>k</span><span class=o>;</span> <span class=o>++</span><span class=n>i</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>pq</span><span class=o>.</span><span class=na>poll</span><span class=o>().</span><span class=na>point</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>kNearestPointHelper</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>point</span><span class=o>,</span> <span class=n>Node</span> <span class=n>curr</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>curr</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>//System.out.println(&#34;T: &#34; + curr.value[0] + &#34;,&#34; + curr.value[1]);
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>cv</span> <span class=o>=</span> <span class=n>point</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=c1>//find the dist between root.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>long</span> <span class=n>curDist</span> <span class=o>=</span> <span class=n>dist</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>pq</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>&lt;</span> <span class=n>k</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=n>Tuple</span><span class=o>(</span><span class=n>curDist</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>)</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span><span class=o>(</span><span class=n>pq</span><span class=o>.</span><span class=na>peek</span><span class=o>().</span><span class=na>dist</span> <span class=o>&gt;</span> <span class=n>curDist</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=n>pq</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=n>Tuple</span><span class=o>(</span><span class=n>curDist</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>)</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>cv</span> <span class=o>&gt;=</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>]){</span>
</span></span><span class=line><span class=cl>            <span class=n>kNearestPointHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>right</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>//traverse also left?
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>long</span> <span class=n>distBoundBoxOther</span> <span class=o>=</span> <span class=n>point</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>]</span> <span class=o>-</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>];</span>
</span></span><span class=line><span class=cl>            <span class=n>distBoundBoxOther</span> <span class=o>=</span> <span class=n>distBoundBoxOther</span> <span class=o>*</span> <span class=n>distBoundBoxOther</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>pq</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>&lt;</span> <span class=n>k</span> <span class=o>||</span> <span class=n>distBoundBoxOther</span> <span class=o>&lt;</span> <span class=n>pq</span><span class=o>.</span><span class=na>peek</span><span class=o>().</span><span class=na>dist</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=n>kNearestPointHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>left</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>kNearestPointHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>left</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>//traverse also left?
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>long</span> <span class=n>distBoundBoxOther</span> <span class=o>=</span> <span class=n>point</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>]</span> <span class=o>-</span> <span class=n>curr</span><span class=o>.</span><span class=na>value</span><span class=o>[</span><span class=n>curr</span><span class=o>.</span><span class=na>dim</span><span class=o>];</span>
</span></span><span class=line><span class=cl>            <span class=n>distBoundBoxOther</span> <span class=o>=</span> <span class=n>distBoundBoxOther</span> <span class=o>*</span> <span class=n>distBoundBoxOther</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>pq</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>&lt;</span> <span class=n>k</span> <span class=o>||</span> <span class=n>distBoundBoxOther</span> <span class=o>&lt;</span> <span class=n>pq</span><span class=o>.</span><span class=na>peek</span><span class=o>().</span><span class=na>dist</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=n>kNearestPointHelper</span><span class=o>(</span><span class=n>point</span><span class=o>,</span> <span class=n>curr</span><span class=o>.</span><span class=na>right</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>long</span> <span class=nf>dist</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>pt1</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>pt2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=n>diffX</span> <span class=o>=</span> <span class=n>pt1</span><span class=o>[</span><span class=n>0</span><span class=o>]</span> <span class=o>-</span><span class=n>pt2</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=n>diffY</span> <span class=o>=</span> <span class=n>pt1</span><span class=o>[</span><span class=n>1</span><span class=o>]</span> <span class=o>-</span><span class=n>pt2</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>diffX</span> <span class=o>*</span> <span class=n>diffX</span> <span class=o>+</span> <span class=n>diffY</span> <span class=o>*</span> <span class=n>diffY</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Node</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>value</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>dim</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Node</span> <span class=n>left</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Node</span> <span class=n>right</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Node</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>d</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dim</span> <span class=o>=</span> <span class=n>d</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Tuple</span> <span class=kd>implements</span> <span class=n>Comparable</span><span class=o>&lt;</span><span class=n>Tuple</span><span class=o>&gt;{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>long</span> <span class=n>dist</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>point</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Tuple</span><span class=o>(</span><span class=kt>long</span> <span class=n>d</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>p</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>dist</span> <span class=o>=</span> <span class=n>d</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>point</span> <span class=o>=</span> <span class=n>p</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compareTo</span><span class=o>(</span><span class=n>Tuple</span> <span class=n>t</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>dist</span> <span class=o>==</span> <span class=n>t</span><span class=o>.</span><span class=na>dist</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span><span class=o>(</span><span class=n>dist</span> <span class=o>&lt;</span> <span class=n>t</span><span class=o>.</span><span class=na>dist</span><span class=o>)</span> <span class=k>return</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>return</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Reference:
<a href=https://leetcode.com/submissions/detail/790663659/ target=_blank rel="noopener noreffer">K Closest Points to Origin</a>
<a href=https://leetcode.com/submissions/detail/790694277/ target=_blank rel="noopener noreffer">Queries on Number of Points Inside a Circle</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span></span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/algorithm/binary_search/index.md target=_blank></a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()></a></span>&nbsp;|&nbsp;<span><a href=/></a></span></section></div><div class=post-nav><a href=/algorithm/data_structure/ class=prev rel=prev title="Data structures"><i class="fas fa-angle-left fa-fw"></i>Data structures</a>
<a href=/algorithm/binary/ class=next rel=next title=Binary>Binary<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Lai Yiu Ming, Tom</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"",maxShownLines:100},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>