<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Udacity Self Driving Car Term3 - Tom personal site</title><meta name=Description content="Tom personal web site"><meta property="og:title" content="Udacity Self Driving Car Term3"><meta property="og:description" content="Term 3, the final term is finished, and I want to share with you want I have learned in this term.
This term focuses on self-driving car brian:
Behavior Planning: Write a drive computer to drive, while collecting data and predict using what you have learned in Term 2 (e.g. EKF, UKF, particle filter, PID, etc…) Interlude: Lyft challenge on semantic segmentation Semantic Segmentation: To let the car know what these point clouds are, e."><meta property="og:type" content="article"><meta property="og:url" content="https://ymlai87416.github.io/blog/udacity-self-driving-car-term3/"><meta property="og:image" content="https://ymlai87416.github.io/logo.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2018-09-04T00:00:00+08:00"><meta property="article:modified_time" content="2018-09-04T00:00:00+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ymlai87416.github.io/logo.png"><meta name=twitter:title content="Udacity Self Driving Car Term3"><meta name=twitter:description content="Term 3, the final term is finished, and I want to share with you want I have learned in this term.
This term focuses on self-driving car brian:
Behavior Planning: Write a drive computer to drive, while collecting data and predict using what you have learned in Term 2 (e.g. EKF, UKF, particle filter, PID, etc…) Interlude: Lyft challenge on semantic segmentation Semantic Segmentation: To let the car know what these point clouds are, e."><meta name=application-name content="Tom personal web site"><meta name=apple-mobile-web-app-title content="Tom personal web site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://ymlai87416.github.io/blog/udacity-self-driving-car-term3/><link rel=prev href=https://ymlai87416.github.io/blog/udacity-self-driving-car-term2/><link rel=next href=https://ymlai87416.github.io/blog/setup-spark-k8s-win/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Udacity Self Driving Car Term3","inLanguage":"zh","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ymlai87416.github.io\/blog\/udacity-self-driving-car-term3\/"},"image":["https:\/\/ymlai87416.github.io\/images\/Apple-Devices-Preview.png"],"genre":"blog","keywords":"computer science, artificial intelligence","wordcount":864,"url":"https:\/\/ymlai87416.github.io\/blog\/udacity-self-driving-car-term3\/","datePublished":"2018-09-04T00:00:00+08:00","dateModified":"2018-09-04T00:00:00+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Tom","logo":"https:\/\/ymlai87416.github.io\/images\/avatar.jpg"},"author":{"@type":"Person","name":"Lai Yiu Ming, Tom"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Tom personal site">Tom personal site</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/about/>About </a><a class=menu-item href=/blog/>Blog </a><a class=menu-item href=/cheatsheet/>Cheatsheet </a><a class=menu-item href=/tools/>Tools </a><a class=menu-item href=/link/>Link </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Tom personal site">Tom personal site</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/about/ title>About</a><a class=menu-item href=/blog/ title>Blog</a><a class=menu-item href=/cheatsheet/ title>Cheatsheet</a><a class=menu-item href=/tools/ title>Tools</a><a class=menu-item href=/link/ title>Link</a><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title></h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Udacity Self Driving Car Term3</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Lai Yiu Ming, Tom</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-09-04>2018-09-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span></span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#behavior-planning>Behavior Planning</a></li><li><a href=#interlude-lyft-challenge>Interlude: Lyft challenge</a></li><li><a href=#semantic-segmentation-elective>Semantic Segmentation (Elective)</a></li><li><a href=#functional-safety-elective>Functional safety (Elective)</a></li><li><a href=#final-project>Final Project</a></li><li><a href=#final-words>Final words</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>Term 3, the final term is finished, and I want to share with you want I have learned in this term.</p><p>This term focuses on self-driving car brian:</p><p>Behavior Planning: Write a drive computer to drive, while collecting data and predict using what you have learned in Term 2 (e.g. EKF, UKF, particle filter, PID, etc…)
Interlude: Lyft challenge on semantic segmentation
Semantic Segmentation: To let the car know what these point clouds are, e.g. Car, pedestrian, road, bike, etc…
Functional safety: It is a very interesting topic and introduces me International standard ASIL (Automotive Safety Integrity Level). This makes sure your system is resilient and don’t cross lines.
Final project: To drive a car around the yard and stop in front of a traffic light.</p><h3 id=behavior-planning>Behavior Planning</h3><p>The original project is lack of structure makes it complained by many students. But none the less, it is a very good opportunity for me to test my system design capability after working 5+ years as a software engineer.</p><p><a href=http://apollo.auto/ target=_blank rel="noopener noreffer">Baidu Appollo</a> is the project I look to while I try to come up with my design. I combine what I have learned in the course and cross check with Baidu Appollo to come up with my own design, you can see my write-up at here. There are still some bugs in the project, see if you can find it.</p><p>Baidu is lacking behind Tencent and Alibaba recently. I feel sad about it.</p><h3 id=interlude-lyft-challenge>Interlude: Lyft challenge</h3><p>This challenge really let me realized that I just know a little bit about Tensorflow. The challenge is to create a Semantic Segmentation model and to locate car and road in the video prepared using CARLA</p><p>CARLA is a simulator and it creates a high-quality simulated environment for testing driving algorithms.</p><p>The competition was fierce, and I dug myself into reading research papers and thought that Google DeepLab v3 should be able to make me rank high enough. But I was wrong.</p><p>The winner used the simple network (FCN-VGG16) taught in the lesson and hack the evaluation metrics. This simple network runs fast (e.g. 16fps) and the winner had the patient to train it to perfect. While I was struggling which network should I use and how to improve Tensorflow performance (dead end).</p><p>My submission is 9 points lower than that of the winner and runs only at 7fps. Landing me at 57 over 155.</p><p>This really taught me a lesson. Simple is the best. I should have refined my basic model first before window shopping another stuff.</p><p>Another interesting observation is that UNet, a neural network proposed to extract pattern in medical images does help people rank high.</p><p>This is my result on judge test set<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube-nocookie.com/embed/4V2FuQ5dbQg style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><p>Here is the winner writeup: <a href=https://www.linkedin.com/pulse/how-i-won-lyft-perception-challenge-asad-zia/ target=_blank rel="noopener noreffer">https://www.linkedin.com/pulse/how-i-won-lyft-perception-challenge-asad-zia/</a></p><h3 id=semantic-segmentation-elective>Semantic Segmentation (Elective)</h3><p>After the interlude, I took this project more seriously when working on it. My aim was to make my FCN-VGG16 model a perfect model.</p><p>I have uses both <a href=http://www.cvlibs.net/datasets/kitti/ target=_blank rel="noopener noreffer">Kitti dataset</a> and <a href=https://www.cityscapes-dataset.com/ target=_blank rel="noopener noreffer">Cityscapes Dataset</a></p><p>You can see how I applied myself by checking out this <a href=https://github.com/ymlai87416/CarND-Semantic-Segmentation target=_blank rel="noopener noreffer">write-up</a></p><p>The project just requires you to detect the road, but some other students push the FCN-VGG16 model further to detect all the object labels in Cityscapes Dataset. I am really impressed by their hard work.</p><p>Here are the results:</p><p>Images:<figure><img src=/images/um_000004.png><figcaption><h4>result</h4></figcaption></figure><figure><img src=/images/berlin_000032_000019_leftImg8bit.png><figcaption><h4>result</h4></figcaption></figure><figure><img src=/images/uu_000095.png><figcaption><h4>result</h4></figcaption></figure></p><p>Video:<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube-nocookie.com/embed/pY_yx5fJctA style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><h3 id=functional-safety-elective>Functional safety (Elective)</h3><p>I chose Semantic segmentation as my elective, so I don’t put much effort into this module. I go through the video and find that someday maybe I can apply it elsewhere, right? You cannot really depend on you hard-code logic to do everything, sometimes, you just have to hand over your problem to a black-box. (e.g. neural network) But this does not make it an excuse for system failure. Having ASIL or something like that really help you have the confidence to use those tools that may be unpredictable and make systems more useful to people without hurting people.</p><h3 id=final-project>Final Project</h3><p>I am working on it right now, and I hope to finish it by the end of this year. (My first submission is failed, but I can graduate with this submission).</p><p>The final project makes use of <a href=http://www.ros.org/ target=_blank rel="noopener noreffer">ROS</a> (Robot operating system) to drive Udacity car CARLA around a yard.</p><p>For the simulator part, that was easy. What I have to do is to work hard and make the car in simulator runs.</p><p>For the real testing. I really have no idea on how CARLA works, and so I have to go to the forum to ask for help from students who graduated or student living in the US.</p><p>For those who want to know what is my team (Robocar) progress, you can take a look at this <a href=https://github.com/ymlai87416/CarND-Capstone target=_blank rel="noopener noreffer">write-up</a></p><h3 id=final-words>Final words</h3><p>This project really makes me know more about the modern world today. I am very happy that talented people are really putting effort to make self-driving car a dream come true.</p><p>While I don’t know if I can get a job in this self-driving industry or should I, but I think that it is definitely worth paying for this course. You are being thrown with a great and meaningful challenge and you think about it, learn about it and practice about it.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span></span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/blog/udacity-self-driving-car-term3/index.md target=_blank></a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/computer-science/>computer science</a>,&nbsp;<a href=/tags/artificial-intelligence/>artificial intelligence</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()></a></span>&nbsp;|&nbsp;<span><a href=/></a></span></section></div><div class=post-nav><a href=/blog/udacity-self-driving-car-term2/ class=prev rel=prev title="Udacity Self Driving Car Term2"><i class="fas fa-angle-left fa-fw"></i>Udacity Self Driving Car Term2</a>
<a href=/blog/setup-spark-k8s-win/ class=next rel=next title="Setting up Spark servers on Kubernetes on Windows">Setting up Spark servers on Kubernetes on Windows<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Lai Yiu Ming, Tom</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"",maxShownLines:100},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>